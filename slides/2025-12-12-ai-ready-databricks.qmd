---
title: Databrickså‘ã‘Jupyter Kernelã§ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆã®é–‹ç™ºç’°å¢ƒã‚’AI-Readyã«ã™ã‚‹
author:
  - name: uma-chan
categories:
  - "slides"
  - "genda"
date: 2025-12-xx
date-modified: last-modified
description: |
  [ç™»å£‡è³‡æ–™] 2025-12-12 ã‚¤ãƒ™ãƒ³ãƒˆå
draft: true
image: "/assets/common/icon_hhkb3_large.jpg"
format:
  revealjs:
    auto-stretch: false
    code-copy: true
    footer: "[2025-12-xx ã‚¤ãƒ™ãƒ³ãƒˆå](https://example.com)"
    include-in-header:
      - ../_includes/hatena-nocomment.html
    incremental: false
    scrollable: true
    slide-level: 3
    slide-number: true
    smaller: false
    theme:
      - simple
      - ../themes/font.scss
    title-prefix: ""
    toc-depth: 2
    toc: false
    height: 1080
    width: 1920
  gfm: default
subtitle: jupyter-databricks-kernel + ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«ã§æœ€å¼·ã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰
---

## 1. ã¯ã˜ã‚ã«

### 1.1. è‡ªå·±ç´¹ä»‹

::: {style="display: flex; flex-direction: column; align-items: center; gap: 2em;"}

::: {style="text-align: left;"}

uma-chan (é¦¬æ¸¡ å¤§æ¨¹ / Mawatari Daiki)

:::

::: {style="text-align: left;"}

|                              |                                     |
| ---                          | ---                                 |
| Data Engineer/MLOps Engineer | [æ ªå¼ä¼šç¤¾GENDA](https://genda.jp/)  |

:::

::: {style="text-align: center;"}

å¥½ããªã‚‚ã®ãŸã¡

[![Vim](https://img.shields.io/badge/Vim-019733.svg?logo=vim&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://www.vim.org/) [![Neovim](https://img.shields.io/badge/Neovim-57A143.svg?logo=neovim&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://neovim.io/) [![tmux](https://img.shields.io/badge/tmux-1BB91F.svg?logo=tmux&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://github.com/tmux/tmux) [![Alacritty](https://img.shields.io/badge/Alacritty-F46D01.svg?logo=alacritty&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://alacritty.org/)

:::

::: {style="text-align: center;"}

[![GitHub](https://img.shields.io/badge/@i9wa4-181717.svg?logo=github&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://github.com/i9wa4) [![X](https://img.shields.io/badge/@i9wa4__-000000.svg?logo=x&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://x.com/i9wa4_) [![Website](https://img.shields.io/badge/ğŸ”—_i9wa4.github.io-4285F4.svg?logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://i9wa4.github.io)

:::

:::

### 1.2. ä»Šæ—¥ã®ã‚´ãƒ¼ãƒ«

::: {style="font-size: 1.5em; text-align: center; margin-top: 2em;"}

**AI-Ready ãª Databricks é–‹ç™ºç’°å¢ƒ** ã‚’ç´¹ä»‹ã™ã‚‹

:::

::: {style="margin-top: 2em;"}

- jupyter-databricks-kernel ã§ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
- Thin Notebook Wrapper + Pure Python ãƒ‘ã‚¿ãƒ¼ãƒ³
- ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ« (mise + pre-commit + Renovate)

:::

## 2. èª²é¡Œæèµ·

### 2.1. å¾“æ¥ã® Databricks Notebook é–‹ç™ºã®èª²é¡Œ

![](/assets/2025-12-xx-ai-ready-databricks/notebook-challenges.png)

### 2.2. å¾“æ¥ã® Databricks Notebook é–‹ç™ºã®èª²é¡Œ (å›³å½¢ã®ã¿)

![](/assets/2025-12-xx-ai-ready-databricks/notebook-challenges-no-text.png)

### 2.3. AI æ™‚ä»£ã®æ–°ãŸãªèª²é¡Œ

![](/assets/2025-12-xx-ai-ready-databricks/ai-era-challenges.png)

### 2.4. AI æ™‚ä»£ã®æ–°ãŸãªèª²é¡Œ (å›³å½¢ã®ã¿)

![](/assets/2025-12-xx-ai-ready-databricks/ai-era-challenges-no-text.png)

## 3. è§£æ±ºç­–1: jupyter-databricks-kernel

### 3.1. jupyter-databricks-kernel ã¨ã¯

![](/assets/2025-12-xx-ai-ready-databricks/jupyter-databricks-kernel.png)

### 3.2. jupyter-databricks-kernel ã¨ã¯ (å›³å½¢ã®ã¿)

![](/assets/2025-12-xx-ai-ready-databricks/jupyter-databricks-kernel-no-text.png)

### 3.3. é–‹ç™ºãƒ•ãƒ­ãƒ¼

::: {style="font-size: 1.2em;"}

1. ãƒ­ãƒ¼ã‚«ãƒ«ã§ Jupyter ã‚’èµ·å‹•
2. ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã (Ruff/mypy ãŒä½¿ãˆã‚‹)
3. ã‚»ãƒ«å®Ÿè¡Œ â†’ Databricks ã‚¯ãƒ©ã‚¹ã‚¿ã§å®Ÿè¡Œ
4. çµæœãŒãƒ­ãƒ¼ã‚«ãƒ«ã«è¡¨ç¤º

:::

::: {style="margin-top: 1em;"}

- ãƒ•ã‚¡ã‚¤ãƒ«ã¯è‡ªå‹•ã§ Databricks ã«åŒæœŸ
- ã‚¯ãƒ©ã‚¹ã‚¿ãŒåœæ­¢ã—ã¦ã„ã‚Œã°è‡ªå‹•èµ·å‹•

:::

## 4. è§£æ±ºç­–2: Thin Notebook Wrapper + Pure Python

### 4.1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

![](/assets/2025-12-xx-ai-ready-databricks/thin-notebook-wrapper.png)

### 4.2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ (å›³å½¢ã®ã¿)

![](/assets/2025-12-xx-ai-ready-databricks/thin-notebook-wrapper-no-text.png)

### 4.3. launcher.ipynb ã¯ãŸã£ãŸ3ã‚»ãƒ«

```python
# Cell 1: Widgetå®šç¾©
dbutils.widgets.text("table_name", "", "Table Name")
dbutils.widgets.text("output_path", "", "Output Path")

# Cell 2: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å–å¾—
table_name = dbutils.widgets.get("table_name")
output_path = dbutils.widgets.get("output_path")

# Cell 3: main() å®Ÿè¡Œ
from main import main
main(table_name=table_name, output_path=output_path)
```

### 4.4. uv ã«ã‚ˆã‚‹ä¾å­˜é–¢ä¿‚ç®¡ç†

![](/assets/2025-12-xx-ai-ready-databricks/uv-management.png)

### 4.5. uv ã«ã‚ˆã‚‹ä¾å­˜é–¢ä¿‚ç®¡ç† (å›³å½¢ã®ã¿)

![](/assets/2025-12-xx-ai-ready-databricks/uv-management-no-text.png)

### 4.6. launcher.ipynb (uvå¯¾å¿œç‰ˆ)

```python
# Cell 0: ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
%pip install -r requirements.txt

# Cell 1: Widgetå®šç¾©
dbutils.widgets.text("table_name", "", "Table Name")

# Cell 2: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å–å¾—
table_name = dbutils.widgets.get("table_name")

# Cell 3: main() å®Ÿè¡Œ
from main import main
main(table_name=table_name)
```

### 4.7. ãƒ¡ãƒªãƒƒãƒˆ

::: {style="font-size: 1.2em;"}

| é …ç›® | å¾“æ¥ | Thin Wrapper + uv |
|------|------|-------------------|
| Ruff/mypy | ä½¿ãˆãªã„ | ä½¿ãˆã‚‹ |
| Git diff | JSON ã§èª­ã‚ãªã„ | .py ã§èª­ã¿ã‚„ã™ã„ |
| ãƒ†ã‚¹ãƒˆ | å›°é›£ | pytest ã§å¯èƒ½ |
| ä¾å­˜ç®¡ç† | æ‰‹å‹• | uv.lock ã§è‡ªå‹• |

:::

## 5. è§£æ±ºç­–3: ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«

### 5.1. ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«æ§‹æˆ

![](/assets/2025-12-xx-ai-ready-databricks/guardrails.png)

### 5.2. ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«æ§‹æˆ (å›³å½¢ã®ã¿)

![](/assets/2025-12-xx-ai-ready-databricks/guardrails-no-text.png)

### 5.3. AI ãŒä½œã£ãŸã‚³ãƒ¼ãƒ‰ã‚‚ãƒã‚§ãƒƒã‚¯

::: {style="font-size: 1.2em;"}

- gitleaks: ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ¼æ´©æ¤œå‡º
- ruff: Python lint/format
- actionlint: GitHub Actions ãƒã‚§ãƒƒã‚¯
- ãƒ–ãƒ©ãƒ³ãƒä¿è­·ãƒ«ãƒ¼ãƒ«: æœ€å¾Œã®ç ¦

:::

::: {style="margin-top: 1em; font-size: 1.1em;"}

AI ãŒ pre-commit hook ã‚’ç„¡è¦–ã—ã¦ã‚‚ã€**GitHub Actions ã§å¿…ãšãƒã‚§ãƒƒã‚¯**

:::

## 6. ã¾ã¨ã‚

### 6.1. AI-Ready é–‹ç™ºç’°å¢ƒã®å…¨ä½“åƒ

![](/assets/2025-12-xx-ai-ready-databricks/ai-ready-overview.png)

### 6.2. AI-Ready é–‹ç™ºç’°å¢ƒã®å…¨ä½“åƒ (å›³å½¢ã®ã¿)

![](/assets/2025-12-xx-ai-ready-databricks/ai-ready-overview-no-text.png)

### 6.3. ãƒªã‚½ãƒ¼ã‚¹

::: {style="font-size: 1.2em; margin-top: 2em;"}

- jupyter-databricks-kernel

  [github.com/i9wa4/jupyter-databricks-kernel](https://github.com/i9wa4/jupyter-databricks-kernel)

- ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«æ§‹æˆ (Zennè¨˜äº‹)

  [zenn.dev/genda_jp/articles/2025-12-06-ai-guardrails-local-cloud](https://zenn.dev/genda_jp/articles/2025-12-06-ai-guardrails-local-cloud)

:::
