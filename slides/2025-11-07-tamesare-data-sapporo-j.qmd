---
draft: true
title: Databricks on AWSå…¥é–€
subtitle: ã‚³ã‚¹ãƒˆæœ€é©åŒ–ã®ä»•çµ„ã¿
author:
  - name: uma-chan
date: 2025-11-07
date-modified: last-modified
description: |
  [ç™»å£‡è³‡æ–™] 2025-11-07 è©¦ã•ã‚ŒDATA SAPPORO #1 (J)
categories:
  - "slides"
  - "genda"
image: "/assets/common/icon_hhkb3_large.jpg"
format:
  revealjs:
    code-copy: true
    footer: "[2025-11-07 è©¦ã•ã‚ŒDATA SAPPORO #1](https://tamesaredatahokkaido.connpass.com/event/369741/)"
    incremental: false
    scrollable: true
    slide-level: 3
    slide-number: true
    smaller: false
    theme:
      - simple
      - ../themes/font.scss
    width: 1920
    height: 1080
    title-prefix: ""
  gfm: default
---

## 1. ã¯ã˜ã‚ã«

### 1.1. è‡ªå·±ç´¹ä»‹

::: {style="display: flex; flex-direction: column; align-items: center; gap: 2em;"}

::: {style="text-align: left;"}
uma-chan (é¦¬æ¸¡ å¤§æ¨¹ / Mawatari Daiki)
:::

::: {style="text-align: left;"}
|                              |                                     |
| ---                          | ---                                 |
| Data Engineer/MLOps Engineer | [æ ªå¼ä¼šç¤¾GENDA](https://genda.jp/)  |
:::

::: {style="text-align: center;"}
å¥½ããªã‚‚ã®ãŸã¡

[![Vim](https://img.shields.io/badge/Vim-019733.svg?logo=vim&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://www.vim.org/) [![Neovim](https://img.shields.io/badge/Neovim-57A143.svg?logo=neovim&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://neovim.io/) [![tmux](https://img.shields.io/badge/tmux-1BB91F.svg?logo=tmux&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://github.com/tmux/tmux) [![Alacritty](https://img.shields.io/badge/Alacritty-F46D01.svg?logo=alacritty&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://alacritty.org/)
:::

::: {style="text-align: center;"}
[![GitHub](https://img.shields.io/badge/@i9wa4-181717.svg?logo=github&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://github.com/i9wa4) [![X](https://img.shields.io/badge/@i9wa4__-000000.svg?logo=x&logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://x.com/i9wa4_) [![Website](https://img.shields.io/badge/ğŸ”—_i9wa4.github.io-4285F4.svg?logoColor=white){height="1.5em" style="vertical-align: middle;"}](https://i9wa4.github.io)
:::

:::

## 2. ECSã®ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†

<!--
å›³1: ecs-resource-management.drawio
ã‚¿ã‚¤ãƒˆãƒ«: ECSç’°å¢ƒã®ãƒªã‚½ãƒ¼ã‚¹åˆ©ç”¨

24æ™‚é–“ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ (æ¨ªè»¸):
0æ™‚ - 9æ™‚: ã‚°ãƒ¬ãƒ¼ã®é ˜åŸŸ "åœæ­¢ä¸­" (æ‰‹å‹•åœæ­¢å¿…è¦)
9æ™‚ - 18æ™‚: ã‚ªãƒ¬ãƒ³ã‚¸ã®é ˜åŸŸ "ç¨¼åƒä¸­" (æ¥­å‹™æ™‚é–“)
18æ™‚ - 24æ™‚: èµ¤ã®é ˜åŸŸ "ç„¡é§„ãªç¨¼åƒ" (æ¶ˆã—å¿˜ã‚Œ)

ä¸‹ã«æœˆé¡ã‚³ã‚¹ãƒˆã‚°ãƒ©ãƒ•:
- EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹: 24æ™‚é–“ç¨¼åƒ Ã— 30æ—¥
- å‰Šæ¸›ã§ããŸã¯ãšã®ã‚³ã‚¹ãƒˆé ˜åŸŸã‚’ç‚¹ç·šã§è¡¨ç¤º

å³å´ã«å•é¡Œç‚¹ãƒœãƒƒã‚¯ã‚¹:
Ã— "æ‰‹å‹•ã§ã®èµ·å‹•ãƒ»åœæ­¢ãŒå¿…è¦"
Ã— "æ¶ˆã—å¿˜ã‚Œã§ã‚³ã‚¹ãƒˆå¢—"
Ã— "ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´ãŒæ‰‹å‹•"
Ã— "é–‹ç™ºè€…ãŒæ„è­˜ã™ã‚‹å¿…è¦"

ç¨¼åƒä¸­ã®ECSã‚¿ã‚¹ã‚¯ã‚¢ã‚¤ã‚³ãƒ³ã‚’æ™‚é–“å¸¯ã”ã¨ã«é…ç½®ã€‚
ç„¡é§„ãªç¨¼åƒæ™‚é–“ã‚’èµ¤è‰²ã§å¼·èª¿ã€‚
-->

## 3. Databricksã®ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†

<!--
å›³2: databricks-resource-management.drawio
ã‚¿ã‚¤ãƒˆãƒ«: Databricksç’°å¢ƒã®ãƒªã‚½ãƒ¼ã‚¹åˆ©ç”¨

24æ™‚é–“ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ (æ¨ªè»¸):
0æ™‚ - 9æ™‚: ã‚°ãƒ¬ãƒ¼ã®é ˜åŸŸ "è‡ªå‹•åœæ­¢"
9æ™‚ - 10æ™‚: ç·‘ã®å°ã•ãªé ˜åŸŸ "ä½¿ç”¨æ™‚ã®ã¿èµ·å‹•"
10æ™‚ - 12æ™‚: ã‚°ãƒ¬ãƒ¼ã®é ˜åŸŸ "è‡ªå‹•åœæ­¢"
13æ™‚ - 15æ™‚: ç·‘ã®å°ã•ãªé ˜åŸŸ "ä½¿ç”¨æ™‚ã®ã¿èµ·å‹•"
15æ™‚ - 24æ™‚: ã‚°ãƒ¬ãƒ¼ã®é ˜åŸŸ "è‡ªå‹•åœæ­¢"

ä¸‹ã«æœˆé¡ã‚³ã‚¹ãƒˆã‚°ãƒ©ãƒ•:
- EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹: ä½¿ç”¨æ™‚ã®ã¿èª²é‡‘
- å‰Šæ¸›ã§ããŸã‚³ã‚¹ãƒˆé ˜åŸŸã‚’ç·‘è‰²ã§è¡¨ç¤º
- "ç´„70%å‰Šæ¸›" ã®ãƒ©ãƒ™ãƒ«

å³å´ã«ãƒ¡ãƒªãƒƒãƒˆãƒœãƒƒã‚¯ã‚¹:
âœ“ "å®Œå…¨è‡ªå‹•ã®èµ·å‹•ãƒ»åœæ­¢"
âœ“ "ã‚¢ã‚¤ãƒ‰ãƒ«ã‚¿ã‚¤ãƒ è‡ªå‹•æ¤œçŸ¥"
âœ“ "å‹•çš„ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°"
âœ“ "é–‹ç™ºè€…ã¯æ„è­˜ä¸è¦"

è‡ªå‹•åœæ­¢æ©Ÿèƒ½ã®ã‚¢ã‚¤ã‚³ãƒ³ (ã‚¿ã‚¤ãƒãƒ¼) ã‚’é…ç½®ã€‚
ã‚³ã‚¹ãƒˆå‰Šæ¸›é¡ã‚’å¤§ããè¡¨ç¤ºã€‚
-->

---

# ã‚³ã‚¹ãƒˆå‰Šæ¸›ã®ä»•çµ„ã¿

<!--
å›³3: cost-optimization-mechanism.drawio
ã‚¿ã‚¤ãƒˆãƒ«: è‡ªå‹•ã‚³ã‚¹ãƒˆæœ€é©åŒ–

3å±¤æ§‹é€ ã®å›³:

ä¸Šæ®µ: "é–‹ç™ºè€…ã®è¦–ç‚¹"
- Notebookã‚¢ã‚¤ã‚³ãƒ³
- "å®Ÿè¡Œãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã ã‘"
- çŸ¢å°ä¸‹å‘ã

ä¸­æ®µ: "Databricksã®è‡ªå‹•ç®¡ç†"
- 4ã¤ã®ãƒ—ãƒ­ã‚»ã‚¹ãƒœãƒƒã‚¯ã‚¹:
  1. ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼è‡ªå‹•èµ·å‹•
  2. å‡¦ç†å®Ÿè¡Œ
  3. ã‚¢ã‚¤ãƒ‰ãƒ«æ¤œçŸ¥ (15åˆ†)
  4. ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼è‡ªå‹•åœæ­¢
- å„ãƒ—ãƒ­ã‚»ã‚¹ã‚’å††å½¢çŸ¢å°ã§ã¤ãªã

ä¸‹æ®µ: "AWSèª²é‡‘"
- ã‚³ã‚¹ãƒˆãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³
- "ä½¿ç”¨æ™‚é–“ã®ã¿èª²é‡‘"
- ç·‘è‰²ã®ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯

å³å´ã«å‰Šæ¸›ä¾‹ãƒœãƒƒã‚¯ã‚¹:
"1æ—¥8æ™‚é–“ç¨¼åƒæƒ³å®šã®å ´åˆ"
- ECS (å¸¸æ™‚ç¨¼åƒ): $720/æœˆ
- Databricks (è‡ªå‹•ç®¡ç†): $200/æœˆ
- å‰Šæ¸›é¡: $520/æœˆ (ç´„72%å‰Šæ¸›)

è‡ªå‹•åŒ–ã®æµã‚Œã‚’å††å½¢ã®çŸ¢å°ã§è¡¨ç¾ã€‚
ã‚³ã‚¹ãƒˆå‰Šæ¸›ã‚’ç·‘è‰²ã§å¼·èª¿ã€‚
-->

---

# ã¾ã¨ã‚

- ECS: æ‰‹å‹•ç®¡ç†ãŒå¿…è¦ã€æ¶ˆã—å¿˜ã‚Œãƒªã‚¹ã‚¯
- Databricks: å®Œå…¨è‡ªå‹•ã®ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†
- ç´„70%ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›ãŒå¯èƒ½
- é–‹ç™ºè€…ã¯ã‚³ã‚¹ãƒˆã‚’æ„è­˜ã›ãšé–‹ç™ºã«é›†ä¸­
