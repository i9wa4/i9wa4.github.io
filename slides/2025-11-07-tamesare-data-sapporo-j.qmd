---
draft: true
title: Databricks on AWS入門
subtitle: コスト最適化の仕組み
author:
  - name: uma-chan
date: 2025-11-07
date-modified: last-modified
description: |
  [登壇資料] 2025-11-07 試されDATA SAPPORO #1 (Aパターン: Databricks紹介)
categories:
  - "slides"
  - "genda"
image: "/assets/common/icon_hhkb3_large.jpg"
format:
  revealjs:
    code-copy: true
    footer: "2025-11-07 試されDATA SAPPORO #1"
    incremental: false
    scrollable: true
    slide-level: 3
    slide-number: true
    smaller: false
    theme:
      - simple
      - ../themes/font.scss
    width: 1920
    height: 1080
    title-prefix: ""
  gfm: default
---

# ECSのリソース管理

<!--
図1: ecs-resource-management.drawio
タイトル: ECS環境のリソース利用

24時間のタイムライン (横軸):
0時 - 9時: グレーの領域 "停止中" (手動停止必要)
9時 - 18時: オレンジの領域 "稼働中" (業務時間)
18時 - 24時: 赤の領域 "無駄な稼働" (消し忘れ)

下に月額コストグラフ:
- EC2インスタンス: 24時間稼働 × 30日
- 削減できたはずのコスト領域を点線で表示

右側に問題点ボックス:
× "手動での起動・停止が必要"
× "消し忘れでコスト増"
× "スケール調整が手動"
× "開発者が意識する必要"

稼働中のECSタスクアイコンを時間帯ごとに配置。
無駄な稼働時間を赤色で強調。
-->

---

# Databricksのリソース管理

<!--
図2: databricks-resource-management.drawio
タイトル: Databricks環境のリソース利用

24時間のタイムライン (横軸):
0時 - 9時: グレーの領域 "自動停止"
9時 - 10時: 緑の小さな領域 "使用時のみ起動"
10時 - 12時: グレーの領域 "自動停止"
13時 - 15時: 緑の小さな領域 "使用時のみ起動"
15時 - 24時: グレーの領域 "自動停止"

下に月額コストグラフ:
- EC2インスタンス: 使用時のみ課金
- 削減できたコスト領域を緑色で表示
- "約70%削減" のラベル

右側にメリットボックス:
✓ "完全自動の起動・停止"
✓ "アイドルタイム自動検知"
✓ "動的スケーリング"
✓ "開発者は意識不要"

自動停止機能のアイコン (タイマー) を配置。
コスト削減額を大きく表示。
-->

---

# コスト削減の仕組み

<!--
図3: cost-optimization-mechanism.drawio
タイトル: 自動コスト最適化

3層構造の図:

上段: "開発者の視点"
- Notebookアイコン
- "実行ボタンを押すだけ"
- 矢印下向き

中段: "Databricksの自動管理"
- 4つのプロセスボックス:
  1. クラスター自動起動
  2. 処理実行
  3. アイドル検知 (15分)
  4. クラスター自動停止
- 各プロセスを円形矢印でつなぐ

下段: "AWS課金"
- コストメーターアイコン
- "使用時間のみ課金"
- 緑色のチェックマーク

右側に削減例ボックス:
"1日8時間稼働想定の場合"
- ECS (常時稼働): $720/月
- Databricks (自動管理): $200/月
- 削減額: $520/月 (約72%削減)

自動化の流れを円形の矢印で表現。
コスト削減を緑色で強調。
-->

---

# まとめ

- ECS: 手動管理が必要、消し忘れリスク
- Databricks: 完全自動のリソース管理
- 約70%のコスト削減が可能
- 開発者はコストを意識せず開発に集中
