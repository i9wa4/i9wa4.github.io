<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>uma-chan&#39;s page</title>
<link>https://i9wa4.github.io/</link>
<atom:link href="https://i9wa4.github.io/index.xml" rel="self" type="application/rss+xml"/>
<description>All of my thoughts.
</description>
<image>
<url>https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg</url>
<title>uma-chan&#39;s page</title>
<link>https://i9wa4.github.io/</link>
</image>
<generator>quarto-1.7.32</generator>
<lastBuildDate>Sun, 27 Jul 2025 16:54:03 GMT</lastBuildDate>
<item>
  <title>Databricks Connect 実践編 - ローカルから Databricks コンピュートを利用</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-07-28-article3-databricks-connect.html</link>
  <description><![CDATA[ 





<p>本記事は3部構成の3本目です。</p>
<ol type="1">
<li><a href="../blog/2025-07-28-article1-devcontainer.html">Claude Code 対応 Dev Container 環境構築編 - VS Code でもそれ以外でも</a></li>
<li><a href="../blog/2025-07-28-article2-python-env.html">Python 開発環境最適化編 - uv + pre-commit + GitHub Actions</a></li>
<li><a href="../blog/2025-07-28-article3-databricks-connect.html">Databricks Connect 実践編 - ローカルから Databricks コンピュートを利用</a></li>
</ol>
<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>前回までの環境に Databricks Connect を追加して、ローカル開発環境から Databricks の Spark セッションを利用できるようにします。</p>
<p>Databricks 上でもローカルでも同じコードが動作する汎用的なライブラリも紹介します。</p>
</section>
<section id="対象読者" class="level2">
<h2 class="anchored" data-anchor-id="対象読者">2. 対象読者</h2>
<ul>
<li>Databricks のコンピュートをローカルから利用したい方</li>
<li>Databricks 上での開発に Claude Code を利用したい方</li>
<li>Databricks 以外の DWH サービスを使っているが参考にしたい方</li>
</ul>
</section>
<section id="databricks-connect-とは" class="level2">
<h2 class="anchored" data-anchor-id="databricks-connect-とは">3. Databricks Connect とは</h2>
<p>Databricks Connect は、ローカル開発環境から Databricks クラスタに接続できるライブラリです。</p>
<p>これにより以下のメリットが得られます。</p>
<ul>
<li>VS Code や Claude Code などのローカル開発環境が利用できる</li>
<li>ローカルでの開発と Databricks 上での実行で同じコードが使える</li>
</ul>
</section>
<section id="環境設定" class="level2">
<h2 class="anchored" data-anchor-id="環境設定">4. 環境設定</h2>
<section id="pyproject.toml-への追加" class="level3">
<h3 class="anchored" data-anchor-id="pyproject.toml-への追加">4.1. pyproject.toml への追加</h3>
<p>前回の pyproject.toml に以下の依存関係を追加します。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>pyproject.toml</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="pyproject.toml" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb1-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[project]</span></span>
<span id="cb1-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dependencies</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb1-3">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"databricks-connect~=16.4.0"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-4">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ipykernel"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-5">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"jupyterlab"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-6">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"matplotlib"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-7">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"numpy"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-8">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pandas"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-9">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"python-dotenv"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-10">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"requests"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-11">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"seaborn"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-12"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb1-13"></span>
<span id="cb1-14"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[tool.flake8]</span></span>
<span id="cb1-15"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">extend-ignore</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb1-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"E203"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Whitespace before ':'</span></span>
<span id="cb1-17">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"E701"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Multiple statements on one line (colon)</span></span>
<span id="cb1-18">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"F821"</span>   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># undefined name (Databricks-specific module)</span></span>
<span id="cb1-19"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
</div>
</section>
<section id="dev-container設定の更新" class="level3">
<h3 class="anchored" data-anchor-id="dev-container設定の更新">4.2. Dev Container設定の更新</h3>
<p>devcontainer.json に以下の設定を追加します。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.devcontainer/devcontainer.json</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename=".devcontainer/devcontainer.json" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-2">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"runArgs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb2-3">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"--cap-add=NET_ADMIN"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"--cap-add=NET_RAW"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-5">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"--network=host"</span></span>
<span id="cb2-6">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-7">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"mounts"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb2-8">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=${localEnv:HOME}/.databrickscfg,target=/home/node/.databrickscfg,type=bind,consistency=cached"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-9">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</div>
</section>
<section id="環境変数設定" class="level3">
<h3 class="anchored" data-anchor-id="環境変数設定">4.3. 環境変数設定</h3>
<p><code>.env.example</code> ファイルを作成します。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.env.example</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename=".env.example" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Databricks設定</span></span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># .databrickscfgのプロファイル名（推奨）</span></span>
<span id="cb3-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">DATABRICKS_CONFIG_PROFILE</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>DEFAULT</span>
<span id="cb3-5"></span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># クラスター使用の場合（どちらか一方を設定）</span></span>
<span id="cb3-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># DATABRICKS_CLUSTER_ID=</span></span>
<span id="cb3-8"></span>
<span id="cb3-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Serverless Compute使用の場合</span></span>
<span id="cb3-10"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">DATABRICKS_SERVERLESS_COMPUTE_ID</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>auto</span>
<span id="cb3-11"></span>
<span id="cb3-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># バージョンチェック無効化</span></span>
<span id="cb3-13"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">DATABRICKS_CONNECT_DISABLE_VERSION_CHECK</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>true</span></code></pre></div>
</div>
</section>
</section>
<section id="spark-セッション管理ライブラリ" class="level2">
<h2 class="anchored" data-anchor-id="spark-セッション管理ライブラリ">5. Spark セッション管理ライブラリ</h2>
<p>Dev Container (ローカル) と Databricks の両方で同じように Spark セッションを作成するためのライブラリを用意しました。</p>
<section id="使用方法" class="level3">
<h3 class="anchored" data-anchor-id="使用方法">5.1. 使用方法</h3>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> databricks_spark <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> create_spark_session</span>
<span id="cb4-2"></span>
<span id="cb4-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 新しいSparkセッションを作成</span></span>
<span id="cb4-4">spark <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> create_spark_session()</span>
<span id="cb4-5">df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> spark.sql(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SHOW CATALOGS"</span>)</span>
<span id="cb4-6">df.show()</span></code></pre></div>
</section>
<section id="ライブラリ実装" class="level3">
<h3 class="anchored" data-anchor-id="ライブラリ実装">5.2. ライブラリ実装</h3>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
5.2.1. <code>databricks_spark.py</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>databricks_spark.py</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="databricks_spark.py" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb5-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">Databricks Spark セッション管理</span></span>
<span id="cb5-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">Databricksとローカル両対応の1ファイル完結型ライブラリ</span></span>
<span id="cb5-4"></span>
<span id="cb5-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">使用方法:</span></span>
<span id="cb5-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    from databricks_spark import create_spark_session</span></span>
<span id="cb5-7"></span>
<span id="cb5-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    # 新しいSparkセッションを作成</span></span>
<span id="cb5-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    spark = create_spark_session()</span></span>
<span id="cb5-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    df = spark.sql("SHOW CATALOGS")</span></span>
<span id="cb5-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    df.show()</span></span>
<span id="cb5-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb5-13"></span>
<span id="cb5-14"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> logging</span>
<span id="cb5-15"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> os</span>
<span id="cb5-16"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> sys</span>
<span id="cb5-17"></span>
<span id="cb5-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ロガー設定</span></span>
<span id="cb5-19">_logger <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> logging.getLogger(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">__name__</span>)</span>
<span id="cb5-20"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> _logger.handlers:</span>
<span id="cb5-21">    _logger.setLevel(logging.INFO)</span>
<span id="cb5-22">    formatter <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> logging.Formatter(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%(asctime)s</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%(name)s</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> [</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%(levelname)s</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">] </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%(message)s</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-23">    handler <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> logging.StreamHandler(sys.stdout)</span>
<span id="cb5-24">    handler.setFormatter(formatter)</span>
<span id="cb5-25">    _logger.addHandler(handler)</span>
<span id="cb5-26"></span>
<span id="cb5-27"></span>
<span id="cb5-28"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> is_databricks_environment() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span>:</span>
<span id="cb5-29">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Databricks環境で実行されているかを判定"""</span></span>
<span id="cb5-30">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> os.environ.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_RUNTIME_VERSION"</span>) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">is</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span></span>
<span id="cb5-31"></span>
<span id="cb5-32"></span>
<span id="cb5-33"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> get_environment_type() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb5-34">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""実行環境のタイプを取得"""</span></span>
<span id="cb5-35">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> is_databricks_environment():</span>
<span id="cb5-36">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"databricks"</span></span>
<span id="cb5-37">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb5-38">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"local"</span></span>
<span id="cb5-39"></span>
<span id="cb5-40"></span>
<span id="cb5-41"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> create_databricks_native_session():</span>
<span id="cb5-42">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Databricks上でのネイティブSparkセッション作成"""</span></span>
<span id="cb5-43">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">try</span>:</span>
<span id="cb5-44">        <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> pyspark.sql <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> SparkSession</span>
<span id="cb5-45"></span>
<span id="cb5-46">        spark <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> SparkSession.getActiveSession()</span>
<span id="cb5-47">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> spark <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">is</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb5-48">            spark <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> SparkSession.builder.appName(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DatabricksNotebook"</span>).getOrCreate()</span>
<span id="cb5-49"></span>
<span id="cb5-50">        _logger.info(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"✅ Databricks native Sparkセッション取得完了"</span>)</span>
<span id="cb5-51">        _logger.info(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"📊 Spark version: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>spark<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>version<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-52">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> spark</span>
<span id="cb5-53"></span>
<span id="cb5-54">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">except</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ImportError</span>:</span>
<span id="cb5-55">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ImportError</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Databricks環境でPySparkが利用できません"</span>)</span>
<span id="cb5-56"></span>
<span id="cb5-57"></span>
<span id="cb5-58"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> create_local_connect_session():</span>
<span id="cb5-59">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""ローカルでのDatabricksConnect Sparkセッション作成"""</span></span>
<span id="cb5-60">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">try</span>:</span>
<span id="cb5-61">        <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> databricks.<span class="ex" style="color: null;
background-color: null;
font-style: inherit;">connect</span> <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> DatabricksSession</span>
<span id="cb5-62"></span>
<span id="cb5-63">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># .env読み込み</span></span>
<span id="cb5-64">        <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> dotenv <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> find_dotenv, load_dotenv</span>
<span id="cb5-65"></span>
<span id="cb5-66">        env_file <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> find_dotenv()</span>
<span id="cb5-67">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> env_file:</span>
<span id="cb5-68">            load_dotenv(env_file)</span>
<span id="cb5-69">            _logger.info(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"📁 .env読み込み: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>env_file<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-70"></span>
<span id="cb5-71">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># プロファイル指定チェック</span></span>
<span id="cb5-72">        profile_name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> os.environ.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_CONFIG_PROFILE"</span>)</span>
<span id="cb5-73"></span>
<span id="cb5-74">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> profile_name:</span>
<span id="cb5-75">            _logger.info(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"🔧 .databrickscfgプロファイル使用: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>profile_name<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-76">            os.environ.setdefault(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_CONNECT_DISABLE_VERSION_CHECK"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"true"</span>)</span>
<span id="cb5-77"></span>
<span id="cb5-78">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> os.environ.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_CLUSTER_ID"</span>):</span>
<span id="cb5-79">                cluster_id <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> os.environ.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_CLUSTER_ID"</span>)</span>
<span id="cb5-80">                spark <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb5-81">                    DatabricksSession.builder.profile(profile_name)</span>
<span id="cb5-82">                    .clusterId(cluster_id)</span>
<span id="cb5-83">                    .getOrCreate()</span>
<span id="cb5-84">                )</span>
<span id="cb5-85">                _logger.info(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"🆔 クラスター使用: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cluster_id<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-86">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb5-87">                os.environ.setdefault(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_SERVERLESS_COMPUTE_ID"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"auto"</span>)</span>
<span id="cb5-88">                spark <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb5-89">                    DatabricksSession.builder.profile(profile_name)</span>
<span id="cb5-90">                    .serverless(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb5-91">                    .getOrCreate()</span>
<span id="cb5-92">                )</span>
<span id="cb5-93">                _logger.info(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"🚀 Serverless Compute使用"</span>)</span>
<span id="cb5-94">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb5-95">            _logger.info(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"🔧 環境変数から直接接続"</span>)</span>
<span id="cb5-96"></span>
<span id="cb5-97">            required_vars <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_HOST"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_TOKEN"</span>]</span>
<span id="cb5-98">            missing_vars <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [var <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> var <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> required_vars <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> os.environ.get(var)]</span>
<span id="cb5-99"></span>
<span id="cb5-100">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> missing_vars:</span>
<span id="cb5-101">                <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ValueError</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"環境変数が未設定: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>missing_vars<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-102"></span>
<span id="cb5-103">            os.environ.setdefault(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_CONNECT_DISABLE_VERSION_CHECK"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"true"</span>)</span>
<span id="cb5-104"></span>
<span id="cb5-105">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> os.environ.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_CLUSTER_ID"</span>):</span>
<span id="cb5-106">                cluster_id <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> os.environ.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_CLUSTER_ID"</span>)</span>
<span id="cb5-107">                spark <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> DatabricksSession.builder.clusterId(cluster_id).getOrCreate()</span>
<span id="cb5-108">                _logger.info(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"🆔 クラスター使用: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cluster_id<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-109">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb5-110">                os.environ.setdefault(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_SERVERLESS_COMPUTE_ID"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"auto"</span>)</span>
<span id="cb5-111">                spark <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> DatabricksSession.builder.serverless(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>).getOrCreate()</span>
<span id="cb5-112">                _logger.info(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"🚀 Serverless Compute使用"</span>)</span>
<span id="cb5-113"></span>
<span id="cb5-114">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># DataFrame表示最適化（Serverless環境では一部設定が制限される）</span></span>
<span id="cb5-115">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">try</span>:</span>
<span id="cb5-116">            spark.conf.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">set</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"spark.sql.repl.eagerEval.enabled"</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb5-117">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">except</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">Exception</span>:</span>
<span id="cb5-118">            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Serverless Computeでは設定できない場合があるのでスキップ</span></span>
<span id="cb5-119">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">pass</span></span>
<span id="cb5-120"></span>
<span id="cb5-121">        _logger.info(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"✅ Databricks Connect Sparkセッション作成完了"</span>)</span>
<span id="cb5-122">        _logger.info(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"📊 Spark version: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>spark<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>version<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-123">        _logger.info(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"🌐 接続先: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>spark<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>client<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>host<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-124">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> spark</span>
<span id="cb5-125"></span>
<span id="cb5-126">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">except</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ImportError</span> <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> e:</span>
<span id="cb5-127">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ImportError</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"databricks-connectが利用できません: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>e<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-128"></span>
<span id="cb5-129"></span>
<span id="cb5-130"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> create_spark_session():</span>
<span id="cb5-131">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""実行環境に応じて適切なSparkセッションを作成"""</span></span>
<span id="cb5-132">    env_type <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> get_environment_type()</span>
<span id="cb5-133">    _logger.info(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"🔍 実行環境検出: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>env_type<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-134"></span>
<span id="cb5-135">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">try</span>:</span>
<span id="cb5-136">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> env_type <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"databricks"</span>:</span>
<span id="cb5-137">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> create_databricks_native_session()</span>
<span id="cb5-138">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># local環境（VS Code、Cursor、Dev Container CLI等）</span></span>
<span id="cb5-139">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> create_local_connect_session()</span>
<span id="cb5-140"></span>
<span id="cb5-141">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">except</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">Exception</span> <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> e:</span>
<span id="cb5-142">        error_msg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>(e)</span>
<span id="cb5-143">        _logger.error(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"❌ Sparkセッション作成失敗: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>error_msg<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-144"></span>
<span id="cb5-145">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># バージョン不整合の検出と対応提案</span></span>
<span id="cb5-146">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Unsupported combination"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> error_msg <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">and</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Databricks Runtime"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> error_msg:</span>
<span id="cb5-147">            _logger.error(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"🔧 バージョン不整合が検出されました"</span>)</span>
<span id="cb5-148">            _logger.error(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"💡 以下のいずれかの対応を行ってください:"</span>)</span>
<span id="cb5-149">            _logger.error(</span>
<span id="cb5-150">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"   1. DatabricksConnectをクラスターのランタイムに合わせてダウングレード:"</span></span>
<span id="cb5-151">            )</span>
<span id="cb5-152">            _logger.error(</span>
<span id="cb5-153">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"      uv add 'databricks-connect~=[クラスターのランタイムバージョン]'"</span></span>
<span id="cb5-154">            )</span>
<span id="cb5-155">            _logger.error(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"   2. Databricksクラスターのランタイムをアップグレード"</span>)</span>
<span id="cb5-156"></span>
<span id="cb5-157">        _logger.error(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"💡 環境タイプ: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>env_type<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb5-158">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span></span>
<span id="cb5-159"></span>
<span id="cb5-160"></span>
<span id="cb5-161"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 明示的にcreate_spark_session()を呼び出してセッションを作成してください</span></span>
<span id="cb5-162"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 例: spark = create_spark_session()</span></span></code></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="databricks側の設定" class="level2">
<h2 class="anchored" data-anchor-id="databricks側の設定">6. Databricks側の設定</h2>
<section id="接続先クラスタ設定" class="level3">
<h3 class="anchored" data-anchor-id="接続先クラスタ設定">6.1. 接続先クラスタ設定</h3>
<p>Spark config で以下を設定します。</p>
<pre><code>spark.databricks.service.server.enabled true</code></pre>
</section>
<section id="databricks-接続設定" class="level3">
<h3 class="anchored" data-anchor-id="databricks-接続設定">6.2. Databricks 接続設定</h3>
<p>Databricks へ接続する場合は <code>~/.databrickscfg</code> に以下の内容を記述します。</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb7-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[DEFAULT]</span></span>
<span id="cb7-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">host </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> https://your-databricks-workspace.cloud.databricks.com</span></span>
<span id="cb7-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">token </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> your-access-token</span></span></code></pre></div>
<ul>
<li><code>host</code>: Databricks ワークスペースの URL</li>
<li><code>token</code>: Databricks アクセストークン</li>
</ul>
</section>
</section>
<section id="利用手順" class="level2">
<h2 class="anchored" data-anchor-id="利用手順">7. 利用手順</h2>
<section id="env-作成" class="level3">
<h3 class="anchored" data-anchor-id="env-作成">7.1. <code>.env</code> 作成</h3>
<ol type="1">
<li><p><code>.env</code> ファイルを作成します</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cp</span> .env.example .env</span></code></pre></div></li>
<li><p>必要であれば <code>.env</code> ファイルの内容を変更してください</p></li>
</ol>
</section>
<section id="開発ワークフロー" class="level3">
<h3 class="anchored" data-anchor-id="開発ワークフロー">7.2. 開発ワークフロー</h3>
<ol type="1">
<li>Dev Container を起動</li>
<li>Python カーネルを選択</li>
<li>Spark セッションを作成して開発開始</li>
</ol>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> databricks_spark <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> create_spark_session</span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Sparkセッション作成</span></span>
<span id="cb9-4">spark <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> create_spark_session()</span>
<span id="cb9-5"></span>
<span id="cb9-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># データの取得</span></span>
<span id="cb9-7">df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> spark.sql(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SELECT * FROM your_table LIMIT 10"</span>)</span>
<span id="cb9-8">df.show()</span>
<span id="cb9-9"></span>
<span id="cb9-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># データ分析</span></span>
<span id="cb9-11">df.groupBy(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"category"</span>).count().show()</span></code></pre></div>
</section>
</section>
<section id="ノートブックでの-python-モジュールインストール方法" class="level2">
<h2 class="anchored" data-anchor-id="ノートブックでの-python-モジュールインストール方法">8. ノートブックでの Python モジュールインストール方法</h2>
<p>Databricks での実行時のみ Python パッケージをインストールする HACK な方法です。</p>
<p>uv を使っていない場合は <code>%pip install &lt;package&gt;</code> で大丈夫です。</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode py code-with-copy"><code class="sourceCode python"><span id="cb10-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> os</span>
<span id="cb10-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> os.environ.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DATABRICKS_RUNTIME_VERSION"</span>):</span>
<span id="cb10-3">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%</span>pip install uv</span>
<span id="cb10-4">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%</span>pip install <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>r <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>(uv pip <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">compile</span> pyproject.toml <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">--</span>color never)</span></code></pre></div>
</section>
<section id="トラブルシューティング" class="level2">
<h2 class="anchored" data-anchor-id="トラブルシューティング">9. トラブルシューティング</h2>
<section id="バージョン不整合エラー" class="level3">
<h3 class="anchored" data-anchor-id="バージョン不整合エラー">9.1. バージョン不整合エラー</h3>
<p>Databricks Connect のバージョンとクラスタのランタイムバージョンが合わない場合があります</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># クラスタのランタイムに合わせてダウングレード</span></span>
<span id="cb11-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'databricks-connect~=14.3.0'</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># この場合は DBR 14.3 に対応</span></span></code></pre></div>
</section>
<section id="接続エラー" class="level3">
<h3 class="anchored" data-anchor-id="接続エラー">9.2. 接続エラー</h3>
<p>設定ファイルが存在せずマウントされていない場合が考えられるので、devcontainer.json の <code>mounts</code> 設定を確認してください。</p>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">10. おわりに</h2>
<p>これでローカル開発環境から Databricks の Spark クラスタを利用できるようになりました。</p>
<p>Claude Code にノートブック実行とデバッグを任せることでデータサイエンスや機械学習の作業効率が爆上がりですね！</p>
<p>Claude Code にこの手の作業を任せるときは時間がかかるので並行して他の作業に取り組むのがオススメです。</p>
</section>
<section id="おまけ-claude-code-に読ませると便利なルール" class="level2">
<h2 class="anchored" data-anchor-id="おまけ-claude-code-に読ませると便利なルール">11. (おまけ) Claude Code に読ませると便利なルール</h2>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>CONTRIBUTING.md</strong></pre>
</div>
<div class="sourceCode" id="cb12" data-filename="CONTRIBUTING.md" style="background: #f1f3f5;"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"># CONTRIBUTING</span></span>
<span id="cb12-2"></span>
<span id="cb12-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## 重要なルール</span></span>
<span id="cb12-4"></span>
<span id="cb12-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">### pre-commit 設定について</span></span>
<span id="cb12-6"></span>
<span id="cb12-7"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>**NEVER**: pre-commit を無効化してはならない</span>
<span id="cb12-8"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>**NEVER**: <span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`pre-commit skip`</span> や <span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`git commit --no-verify`</span> を使用してはならない</span>
<span id="cb12-9"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>**IMPORTANT**: pre-commit のチェックに失敗した場合は、必ずコードを修正してからコミットする</span>
<span id="cb12-10"></span>
<span id="cb12-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## Jupyter Notebook 実行方法</span></span>
<span id="cb12-12"></span>
<span id="cb12-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">### デフォルトの実行方法</span></span>
<span id="cb12-14"></span>
<span id="cb12-15">Notebook全体を実行する指示を受けた際は、以下のコマンドを使用する</span>
<span id="cb12-16"></span>
<span id="cb12-17"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`uv run jupyter nbconvert --to notebook --execute &lt;notebook_path&gt; --inplace --ExecutePreprocessor.timeout=300`</span></span>
<span id="cb12-18"></span>
<span id="cb12-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">#### 使用例</span></span>
<span id="cb12-20"></span>
<span id="cb12-21"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`uv run jupyter nbconvert --to notebook --execute /workspace/notebooks/databricks-connect-sample.ipynb --inplace --ExecutePreprocessor.timeout=300`</span></span>
<span id="cb12-22"></span>
<span id="cb12-23"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">#### オプション説明</span></span>
<span id="cb12-24"></span>
<span id="cb12-25"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`--to notebook`</span>: Notebook形式で出力</span>
<span id="cb12-26"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`--execute`</span>: セルを実際に実行</span>
<span id="cb12-27"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`--inplace`</span>: 元のファイルに実行結果を上書き</span>
<span id="cb12-28"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`--ExecutePreprocessor.timeout=300`</span>: タイムアウトを300秒に設定</span>
<span id="cb12-29"></span>
<span id="cb12-30"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">### 実行ログの確認</span></span>
<span id="cb12-31"></span>
<span id="cb12-32">実行時のログを確認したい場合は以下のように実行する</span>
<span id="cb12-33"></span>
<span id="cb12-34"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`uv run jupyter nbconvert --to notebook --execute &lt;notebook_path&gt; --inplace --ExecutePreprocessor.timeout=300 2&gt;&amp;1 | tee /tmp/notebook_execution.log`</span></span>
<span id="cb12-35"></span>
<span id="cb12-36"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">### 注意事項</span></span>
<span id="cb12-37"></span>
<span id="cb12-38"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>実行前に必要な環境変数（<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`.env`</span>ファイル等）が適切に設定されていることを確認する</span>
<span id="cb12-39"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>長時間実行されるセルがある場合は<span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`--ExecutePreprocessor.timeout`</span>の値を調整する</span>
<span id="cb12-40"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>VS Codeで開いている場合は実行後にファイルの更新を確認する</span></code></pre></div>
</div>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-python</category>
  <category>tech-databricks</category>
  <guid>https://i9wa4.github.io/blog/2025-07-28-article3-databricks-connect.html</guid>
  <pubDate>Sun, 27 Jul 2025 16:54:03 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Python 開発環境最適化編 - uv + pre-commit + GitHub Actions</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-07-28-article2-python-env.html</link>
  <description><![CDATA[ 





<p>本記事は3部構成の2本目です。</p>
<ol type="1">
<li><a href="../blog/2025-07-28-article1-devcontainer.html">Claude Code 対応 Dev Container 環境構築編 - VS Code でもそれ以外でも</a></li>
<li><a href="../blog/2025-07-28-article2-python-env.html">Python 開発環境最適化編 - uv + pre-commit + GitHub Actions</a></li>
<li><a href="../blog/2025-07-28-article3-databricks-connect.html">Databricks Connect 実践編 - ローカルから Databricks コンピュートを利用</a></li>
</ol>
<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>前回の Dev Container 環境に Python 開発環境を追加します。</p>
<p>uv によるパッケージ管理と pre-commit による品質管理で、チーム開発でも個人開発でも快適な Python 環境を構築できます。</p>
</section>
<section id="対象読者" class="level2">
<h2 class="anchored" data-anchor-id="対象読者">2. 対象読者</h2>
<ul>
<li>Python開発環境を効率化したい方</li>
<li>チーム開発でコード品質を統一したい方</li>
<li>VS Code以外のエディタでも同じ環境を使いたい方</li>
</ul>
</section>
<section id="uv-とは" class="level2">
<h2 class="anchored" data-anchor-id="uv-とは">3. uv とは</h2>
<p>今回利用している Python 環境管理ツールです。</p>
<p><a href="https://github.com/astral-sh/uv" class="uri">https://github.com/astral-sh/uv</a></p>
<p>最低限理解しておくべき要点は以下です。</p>
<ul>
<li>uv 自体は Python エコシステムの外にあるツール</li>
<li>インストールしたい Python パッケージを <code>pyproject.toml</code> で管理する</li>
<li><code>pyproject.toml</code> のパッケージの依存関係解決結果を <code>uv.lock</code> に保存し環境の再現性を担保している</li>
</ul>
</section>
<section id="python-環境設定" class="level2">
<h2 class="anchored" data-anchor-id="python-環境設定">4. Python 環境設定</h2>
<p>Python コーディング向け環境設定について説明していきます。</p>
<p>基本的なライブラリと pre-commit で Black isort, flake8 を利用していきます。</p>
<section id="pyproject.toml" class="level3">
<h3 class="anchored" data-anchor-id="pyproject.toml">4.1. pyproject.toml</h3>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>pyproject.toml</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="pyproject.toml" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb1-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[project]</span></span>
<span id="cb1-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your-project-name"</span></span>
<span id="cb1-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.1.0"</span></span>
<span id="cb1-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">description</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Add your description here"</span></span>
<span id="cb1-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">requires-python</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"~=3.13.0"</span></span>
<span id="cb1-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dependencies</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb1-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ipykernel"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"jupyterlab"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"matplotlib"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-10">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"numpy"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-11">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pandas"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-12">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"python-dotenv"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-13">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"requests"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"seaborn"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-15"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb1-16"></span>
<span id="cb1-17"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[dependency-groups]</span></span>
<span id="cb1-18"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">dev</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb1-19">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pre-commit~=4.2.0"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-20">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black==25.1.0"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-21">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"isort==6.0.0"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-22">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"flake8==7.3.0"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-23">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"flake8-pyproject"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-24"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb1-25"></span>
<span id="cb1-26"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[tool.black]</span></span>
<span id="cb1-27"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">line-length</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">88</span></span>
<span id="cb1-28"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">target-version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">py313</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb1-29"></span>
<span id="cb1-30"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[tool.isort]</span></span>
<span id="cb1-31"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">profile</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span></span>
<span id="cb1-32"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">line_length</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">88</span></span>
<span id="cb1-33"></span>
<span id="cb1-34"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[tool.flake8]</span></span>
<span id="cb1-35"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">max-line-length</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">120</span></span>
<span id="cb1-36"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">extend-exclude</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".venv"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb1-37"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">extend-ignore</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb1-38">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"E203"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Whitespace before ':'</span></span>
<span id="cb1-39">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"E701"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Multiple statements on one line (colon)</span></span>
<span id="cb1-40"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span></code></pre></div>
</div>
</section>
<section id="pre-commit-設定" class="level3">
<h3 class="anchored" data-anchor-id="pre-commit-設定">4.2. pre-commit 設定</h3>
<p>Formatter設定をVS Codeから切り離すことでVS Code以外のエディタやGitHub Actionsでも利用できるようになります。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.pre-commit-config.yaml</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename=".pre-commit-config.yaml" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">default_stages</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pre-commit</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repos</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb2-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repo</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> https://github.com/pre-commit/pre-commit-hooks</span></span>
<span id="cb2-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rev</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> v5.0.0</span></span>
<span id="cb2-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hooks</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb2-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> check-added-large-files</span></span>
<span id="cb2-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> check-json</span></span>
<span id="cb2-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> check-yaml</span></span>
<span id="cb2-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> detect-private-key</span></span>
<span id="cb2-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> end-of-file-fixer</span></span>
<span id="cb2-11"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> mixed-line-ending</span></span>
<span id="cb2-12"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">args</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--fix=</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">no</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]</span></span>
<span id="cb2-13"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> trailing-whitespace</span></span>
<span id="cb2-14"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">args</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--markdown-linebreak-ext=md</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]</span></span>
<span id="cb2-15"></span>
<span id="cb2-16"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repo</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> local</span></span>
<span id="cb2-17"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hooks</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb2-18"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> black</span></span>
<span id="cb2-19"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> black</span></span>
<span id="cb2-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">entry</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> uv run black</span></span>
<span id="cb2-21"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">language</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> system</span></span>
<span id="cb2-22"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">types</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">python</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]</span></span>
<span id="cb2-23"></span>
<span id="cb2-24"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repo</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> local</span></span>
<span id="cb2-25"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hooks</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb2-26"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> isort</span></span>
<span id="cb2-27"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> isort (python)</span></span>
<span id="cb2-28"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">entry</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> uv run isort</span></span>
<span id="cb2-29"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">language</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> system</span></span>
<span id="cb2-30"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">types</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">python</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]</span></span>
<span id="cb2-31"></span>
<span id="cb2-32"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repo</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> local</span></span>
<span id="cb2-33"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hooks</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb2-34"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> flake8</span></span>
<span id="cb2-35"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> flake8</span></span>
<span id="cb2-36"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">entry</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> uv run flake8</span></span>
<span id="cb2-37"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">language</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> system</span></span>
<span id="cb2-38"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">types</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">python</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]</span></span>
<span id="cb2-39"></span>
<span id="cb2-40"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">repo</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> https://github.com/gitleaks/gitleaks</span></span>
<span id="cb2-41"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rev</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> v8.28.0</span></span>
<span id="cb2-42"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hooks</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb2-43"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">id</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> gitleaks</span></span></code></pre></div>
</div>
</section>
<section id="github-actions-での-pre-commit" class="level3">
<h3 class="anchored" data-anchor-id="github-actions-での-pre-commit">4.3. GitHub Actions での pre-commit</h3>
<p>GitHub Actionsでpre-commitを実行するための設定です。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.github/workflows/pre-commit.yaml</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename=".github/workflows/pre-commit.yaml" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> pre-commit</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run-name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ${{ github.event_name }} on ${{ github.ref_name }} by @${{ github.actor }}</span></span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">on</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">workflow_dispatch</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">push</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">branches</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> main</span></span>
<span id="cb3-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pull_request</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">branches</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-11"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> main</span></span>
<span id="cb3-12"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">types</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-13"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> opened</span></span>
<span id="cb3-14"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> synchronize</span></span>
<span id="cb3-15"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> reopened</span></span>
<span id="cb3-16"></span>
<span id="cb3-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">permissions</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{}</span></span>
<span id="cb3-18"></span>
<span id="cb3-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">defaults</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-21"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">shell</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> bash</span></span>
<span id="cb3-22"></span>
<span id="cb3-23"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">concurrency</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-24"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ${{ github.workflow }}-${{ github.ref }}</span></span>
<span id="cb3-25"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cancel-in-progress</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb3-26"></span>
<span id="cb3-27"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">jobs</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-28"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pre-commit</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-29"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runs-on</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ubuntu-latest</span></span>
<span id="cb3-30"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">timeout-minutes</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb3-31"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">permissions</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-32"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">contents</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> read</span></span>
<span id="cb3-33"></span>
<span id="cb3-34"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">steps</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-35"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Checkout</span></span>
<span id="cb3-36"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">uses</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> actions/checkout@v4</span></span>
<span id="cb3-37"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-38"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">          # プルリクエスト時はソースブランチ(github.head_ref)を、</span></span>
<span id="cb3-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">          # 手動実行時は実行対象ブランチ(github.ref_name)をチェックアウト</span></span>
<span id="cb3-40"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ref</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ${{ github.event_name == 'pull_request' &amp;&amp; github.head_ref || github.ref_name }}</span></span>
<span id="cb3-41"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">persist-credentials</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb3-42"></span>
<span id="cb3-43"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Install uv</span></span>
<span id="cb3-44"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">uses</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> astral-sh/setup-uv@v6</span></span>
<span id="cb3-45"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-46"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">version</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.8.3"</span></span>
<span id="cb3-47"></span>
<span id="cb3-48"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Set up Python</span></span>
<span id="cb3-49"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">        run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-50">          uv sync --only-group dev</span>
<span id="cb3-51"></span>
<span id="cb3-52"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Install pre-commit</span></span>
<span id="cb3-53"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">        run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-54">          uv run pre-commit install</span>
<span id="cb3-55"></span>
<span id="cb3-56"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Run pre-commit</span></span>
<span id="cb3-57"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">        run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-58">          uv run pre-commit run --all-files</span></code></pre></div>
</div>
</section>
</section>
<section id="dev-container-への統合" class="level2">
<h2 class="anchored" data-anchor-id="dev-container-への統合">5. Dev Container への統合</h2>
<section id="devcontainer.json-の更新" class="level3">
<h3 class="anchored" data-anchor-id="devcontainer.json-の更新">5.1. devcontainer.json の更新</h3>
<p>前回の devcontainer.json に以下の設定を追加します。</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-2">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"customizations"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-3">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vscode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-4">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"extensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb4-5">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"editorconfig.editorconfig"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-6">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"elagil.pre-commit-helper"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-7">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ms-python.python"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-8">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ms-toolsai.jupyter"</span></span>
<span id="cb4-9">            <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-10">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb4-12">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"remoteEnv"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-13">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"UV_LINK_MODE"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"copy"</span></span>
<span id="cb4-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb4-15">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"postStartCommand"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"uv sync --frozen --group dev &amp;&amp; uv run pre-commit install"</span></span>
<span id="cb4-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="jupyterlab-起動スクリプト" class="level3">
<h3 class="anchored" data-anchor-id="jupyterlab-起動スクリプト">5.2. JupyterLab 起動スクリプト</h3>
<p>VS Code ユーザーは不要ですが一応 JupyterLab を起動するスクリプトも用意しました。</p>
<p>ポートは自動割り当てにしています。</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
5.2.1. <code>.devcontainer/start-jupyter.sh</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.devcontainer/start-jupyter.sh</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename=".devcontainer/start-jupyter.sh" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#!/usr/bin/env bash</span></span>
<span id="cb5-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">set</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-o</span> errexit</span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># JupyterLab起動スクリプト</span></span>
<span id="cb5-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 快適な開発用</span></span>
<span id="cb5-6"></span>
<span id="cb5-7"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"🔥 JupyterLab 環境を起動中..."</span></span>
<span id="cb5-8"></span>
<span id="cb5-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ポート設定（環境変数または自動割り当て）</span></span>
<span id="cb5-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># JUPYTER_PORT=8888 # </span><span class="al" style="color: #AD0000;
background-color: null;
font-style: inherit;">NOTE</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">: この行をコメントアウトすると自動ポート検索が有効になります</span></span>
<span id="cb5-11"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">JUPYTER_PORT</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${JUPYTER_PORT</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:-</span>0<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-12"></span>
<span id="cb5-13"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$JUPYTER_PORT</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb5-14">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"📡 利用可能なポートを自動検索中..."</span></span>
<span id="cb5-15"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span></span>
<span id="cb5-16">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"📡 指定ポート </span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${JUPYTER_PORT}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> で起動します"</span></span>
<span id="cb5-17"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb5-18"></span>
<span id="cb5-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python環境の確認</span></span>
<span id="cb5-20"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-f</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"uv.lock"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb5-21">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"📦 uv環境を使用してJupyterLabを起動します"</span></span>
<span id="cb5-22">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> sync <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--frozen</span></span>
<span id="cb5-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nohup</span> uv run jupyter lab <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--ip</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>0.0.0.0 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--port</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${JUPYTER_PORT}</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--no-browser</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--allow-root</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb5-24">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--NotebookApp.token</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--NotebookApp.password</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb5-25">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--ServerApp.allow_origin</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'*'</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--ServerApp.disable_check_xsrf</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>True <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>/dev/null <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&amp;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;</span></span>
<span id="cb5-26"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">elif</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".venv"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb5-27">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"📦 venv環境を使用してJupyterLabを起動します"</span></span>
<span id="cb5-28">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> .venv/bin/activate</span>
<span id="cb5-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nohup</span> jupyter lab <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--ip</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>0.0.0.0 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--port</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${JUPYTER_PORT}</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--no-browser</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--allow-root</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb5-30">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--NotebookApp.token</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--NotebookApp.password</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb5-31">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--ServerApp.allow_origin</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'*'</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--ServerApp.disable_check_xsrf</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>True <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>/dev/null <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&amp;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;</span></span>
<span id="cb5-32"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span></span>
<span id="cb5-33">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"❌ Python仮想環境が見つかりません"</span></span>
<span id="cb5-34">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"uvまたはvenvで環境をセットアップしてください"</span></span>
<span id="cb5-35">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span> 1</span>
<span id="cb5-36"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb5-37"></span>
<span id="cb5-38"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 実際に割り当てられたポートを取得（リトライ機能付き）</span></span>
<span id="cb5-39"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">{</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">..</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">}</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">do</span></span>
<span id="cb5-40">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sleep</span> 1</span>
<span id="cb5-41">  <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ACTUAL_PORT</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ss</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-tlnp</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>/dev/null <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grep</span> jupyter-lab <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">awk</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'{print $4}'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cut</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d:</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f2</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-1</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb5-42">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-n</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$ACTUAL_PORT</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb5-43">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">break</span></span>
<span id="cb5-44">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb5-45"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">done</span></span>
<span id="cb5-46"></span>
<span id="cb5-47"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$JUPYTER_PORT</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-n</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$ACTUAL_PORT</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb5-48">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"🌐 JupyterLabは http://localhost:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${ACTUAL_PORT}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/lab でアクセス可能です"</span></span>
<span id="cb5-49"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span></span>
<span id="cb5-50">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"🌐 JupyterLabは http://localhost:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${JUPYTER_PORT}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/lab でアクセス可能です"</span></span>
<span id="cb5-51"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span></code></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="python-仮想環境更新手順" class="level2">
<h2 class="anchored" data-anchor-id="python-仮想環境更新手順">6. Python 仮想環境更新手順</h2>
<ol type="1">
<li><p>必要に応じて <code>.python-version</code> や <code>pyproject.toml</code> を更新します。</p></li>
<li><p><code>uv.lock</code> を更新します。</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> uv lock <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--upgrade</span></span></code></pre></div></li>
<li><p>.venv を更新します。</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> uv sync <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--frozen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--group</span> dev</span></code></pre></div></li>
</ol>
<section id="パッケージ追加手順" class="level3">
<h3 class="anchored" data-anchor-id="パッケージ追加手順">6.1. パッケージ追加手順</h3>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 新しいパッケージを追加</span></span>
<span id="cb8-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add pandas matplotlib</span>
<span id="cb8-3"></span>
<span id="cb8-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 開発用パッケージを追加</span></span>
<span id="cb8-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">uv</span> add <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--group</span> dev pytest</span></code></pre></div>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">7. おわりに</h2>
<p>これで Python 開発環境が完成しました。</p>
<p>次回はこの環境に Databricks Connect を追加してクラウドデータウェアハウスと連携する方法を紹介します。</p>
<p><a href="../blog/2025-07-28-article3-databricks-connect.html">Databricks Connect 実践編 - ローカルから Databricks コンピュートを利用</a></p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-python</category>
  <category>tech-vscode</category>
  <guid>https://i9wa4.github.io/blog/2025-07-28-article2-python-env.html</guid>
  <pubDate>Sun, 27 Jul 2025 16:53:58 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Claude Code 対応 Dev Container 環境構築編 - VS Code でもそれ以外でも</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-07-28-article1-devcontainer.html</link>
  <description><![CDATA[ 





<p>本記事は3部構成の1本目です。</p>
<ol type="1">
<li><a href="../blog/2025-07-28-article1-devcontainer.html">Claude Code 対応 Dev Container 環境構築編 - VS Code でもそれ以外でも</a></li>
<li><a href="../blog/2025-07-28-article2-python-env.html">Python 開発環境最適化編 - uv + pre-commit + GitHub Actions</a></li>
<li><a href="../blog/2025-07-28-article3-databricks-connect.html">Databricks Connect 実践編 - ローカルから Databricks コンピュートを利用</a></li>
</ol>
<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>Claude Codeを使いたいけれど環境構築が面倒、チーム全員に同じ開発環境を提供したい、そんな悩みをサクッと解決します。</p>
<p>この記事では Anthropic のリファレンス実装をベースに、実用的にカスタマイズしたDev Container設定を紹介します。</p>
</section>
<section id="対象読者" class="level2">
<h2 class="anchored" data-anchor-id="対象読者">2. 対象読者</h2>
<ul>
<li>Claude Code を使いたいが環境構築を簡単にしたい方</li>
<li>チーム開発で統一された開発環境を提供したい方</li>
</ul>
</section>
<section id="前提知識" class="level2">
<h2 class="anchored" data-anchor-id="前提知識">3. 前提知識</h2>
<section id="dev-container-とは" class="level3">
<h3 class="anchored" data-anchor-id="dev-container-とは">3.1. Dev Container とは</h3>
<p>Dev Container は VS Code でコンテナを開発環境として利用できる便利機能です。</p>
<p>今回の設定をチームで共有すれば全員に同じ開発環境を提供できます。</p>
<p>VS Code以外のエディタでも Dev Container CLI を利用することで恩恵を受けることができます。</p>
</section>
<section id="claude-code-in-dev-container" class="level3">
<h3 class="anchored" data-anchor-id="claude-code-in-dev-container">3.2. Claude Code in Dev Container</h3>
<p>Claude Code を Dev Container で利用する方法について2通り紹介します。</p>
<section id="devcontainer.json-の-features-を利用する" class="level4">
<h4 class="anchored" data-anchor-id="devcontainer.json-の-features-を利用する">3.2.1. devcontainer.json の features を利用する</h4>
<p>こちらが簡単な方法です。</p>
<p>以下に Anthropic が提供している Dev Container feature を利用する方法が記載されています。</p>
<p><a href="https://github.com/anthropics/devcontainer-features/blob/main/src/claude-code/README.md" class="uri">https://github.com/anthropics/devcontainer-features/blob/main/src/claude-code/README.md</a></p>
<p>抜粋すると以下の通りです。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.devcontainer/devcontainer.json</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename=".devcontainer/devcontainer.json" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb1-1"><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"features":</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb1-2">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"ghcr.io/devcontainers/features/node:1"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{},</span></span>
<span id="cb1-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"ghcr.io/anthropics/devcontainer-features/claude-code:1"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{}</span></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</div>
</section>
<section id="dockerfile-を利用する" class="level4">
<h4 class="anchored" data-anchor-id="dockerfile-を利用する">3.2.2. Dockerfile を利用する</h4>
<p>本家のリファレンス実装を利用する方法です。</p>
<p>以下が Claude Code 向け Dev Container について記載されている公式ドキュメントです。</p>
<p><a href="https://docs.anthropic.com/en/docs/claude-code/devcontainer" class="uri">https://docs.anthropic.com/en/docs/claude-code/devcontainer</a></p>
<p>この中でリファレンス実装として Claude Code 自身の Dev Container 設定が紹介されています。</p>
<p><a href="https://github.com/anthropics/claude-code/tree/main/.devcontainer" class="uri">https://github.com/anthropics/claude-code/tree/main/.devcontainer</a></p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">.devcontainer</span></span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> devcontainer.json</span>
<span id="cb2-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> Dockerfile</span>
<span id="cb2-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> init-firewall.sh</span></code></pre></div>
<p>このリファレンス実装を参考にしつつ私が使いやすいようにカスタマイズしたものを以下で紹介していきます。</p>
</section>
</section>
</section>
<section id="dev-container-設定" class="level2">
<h2 class="anchored" data-anchor-id="dev-container-設定">4. Dev Container 設定</h2>
<section id="vs-code-側の準備" class="level3">
<h3 class="anchored" data-anchor-id="vs-code-側の準備">4.1. VS Code 側の準備</h3>
<p>Dev Container 拡張をインストールしておく必要があります。</p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" class="uri">https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers</a></p>
</section>
<section id="dockerfile" class="level3">
<h3 class="anchored" data-anchor-id="dockerfile">4.2. Dockerfile</h3>
<p>Anthropic のリファレンス実装をベースにして以下のような Dockerfile を作成しました。</p>
<p>見て分かる通り hadolint で結構指摘が出る書き味ですが特に意思もないのでそのままにしています。</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
4.2.1. <code>.devcontainer/Dockerfile</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.devcontainer/Dockerfile</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename=".devcontainer/Dockerfile" style="background: #f1f3f5;"><pre class="sourceCode Dockerfile code-with-copy"><code class="sourceCode dockerfile"><span id="cb3-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> node:20</span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ARG</span> TZ</span>
<span id="cb3-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ENV</span> TZ=<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"$TZ"</span></span>
<span id="cb3-5"></span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Install basic development tools and iptables/ipset</span></span>
<span id="cb3-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">RUN</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">apt</span> update <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">apt</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-y</span> less <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-8">  git <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-9">  procps <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-10">  sudo <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-11">  fzf <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-12">  zsh <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-13">  man-db <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-14">  unzip <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-15">  gnupg2 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-16">  gh <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-17">  iptables <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-18">  ipset <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-19">  iproute2 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-20">  dnsutils <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-21">  aggregate <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-22">  jq</span>
<span id="cb3-23"></span>
<span id="cb3-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ensure default node user has access to /usr/local/share</span></span>
<span id="cb3-25"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">RUN</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> /usr/local/share/npm-global <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-26">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chown</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-R</span> node:node /usr/local/share</span>
<span id="cb3-27"></span>
<span id="cb3-28"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ARG</span> USERNAME=node</span>
<span id="cb3-29"></span>
<span id="cb3-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Persist bash history.</span></span>
<span id="cb3-31"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">RUN</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">SNIPPET</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"export PROMPT_COMMAND='history -a' &amp;&amp; export HISTFILE=/commandhistory/.bash_history"</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-32">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> /commandhistory <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-33">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">touch</span> /commandhistory/.bash_history <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-34">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chown</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-R</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$USERNAME</span> /commandhistory</span>
<span id="cb3-35"></span>
<span id="cb3-36"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set `DEVCONTAINER` environment variable to help with orientation</span></span>
<span id="cb3-37"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ENV</span> DEVCONTAINER=true</span>
<span id="cb3-38"></span>
<span id="cb3-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create workspace and config directories and set permissions</span></span>
<span id="cb3-40"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">RUN</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> /workspace /home/node/.claude <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-41">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chown</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-R</span> node:node /workspace /home/node/.claude</span>
<span id="cb3-42"></span>
<span id="cb3-43"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">WORKDIR</span> /workspace</span>
<span id="cb3-44"></span>
<span id="cb3-45"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">RUN</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">ARCH</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dpkg</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--print-architecture</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-46">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">wget</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://github.com/dandavison/delta/releases/download/0.18.2/git-delta_0.18.2_</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${ARCH}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">.deb"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-47">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> dpkg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git-delta_0.18.2_</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${ARCH}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">.deb"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-48">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git-delta_0.18.2_</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${ARCH}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">.deb"</span></span>
<span id="cb3-49"></span>
<span id="cb3-50"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set up non-root user</span></span>
<span id="cb3-51"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">USER</span> node</span>
<span id="cb3-52"></span>
<span id="cb3-53"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Install global packages</span></span>
<span id="cb3-54"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ENV</span> NPM_CONFIG_PREFIX=/usr/local/share/npm-global</span>
<span id="cb3-55"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ENV</span> PATH=$PATH:/usr/local/share/npm-global/bin</span>
<span id="cb3-56"></span>
<span id="cb3-57"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set the default shell to zsh rather than sh</span></span>
<span id="cb3-58"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ENV</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SHELL</span>=/bin/zsh</span>
<span id="cb3-59"></span>
<span id="cb3-60"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Default powerline10k theme</span></span>
<span id="cb3-61"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">RUN</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">wget</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-O-</span> https://github.com/deluan/zsh-in-docker/releases/download/v1.2.0/zsh-in-docker.sh<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-62">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> git <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-63">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> fzf <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-64">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-a</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source /usr/share/doc/fzf/examples/key-bindings.zsh"</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-65">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-a</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source /usr/share/doc/fzf/examples/completion.zsh"</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-66">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-a</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"export PROMPT_COMMAND='history -a' &amp;&amp; export HISTFILE=/commandhistory/.bash_history"</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb3-67">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-x</span></span>
<span id="cb3-68"></span>
<span id="cb3-69"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Install Claude</span></span>
<span id="cb3-70"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">RUN</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">npm</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-g</span> @anthropic-ai/claude-code</span>
<span id="cb3-71"></span>
<span id="cb3-72"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python environment setup (if needed)</span></span>
<span id="cb3-73"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Copy uv binary from official image</span></span>
<span id="cb3-74"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">COPY</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">--from=ghcr.io/astral-sh/uv:latest</span> /uv /usr/local/bin/uv</span>
<span id="cb3-75"></span>
<span id="cb3-76"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">USER</span> node</span></code></pre></div>
</div>
<p>Anthropic のリファレンス実装 (<a href="https://github.com/anthropics/claude-code/blob/55219b8b4e612b5fc6a85f7dc4eb4382ec4134eb/.devcontainer/Dockerfile">e394b39</a>) と比較すると以下のような変更を行っています。</p>
<ul>
<li>firewall スクリプト対応部分を削除</li>
<li>uv インストール部分を追加</li>
</ul>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode diff code-with-copy"><code class="sourceCode diff"><span id="cb4-1">$ diff -u ../../anthropics/claude-code/.devcontainer/Dockerfile .devcontainer/Dockerfile</span>
<span id="cb4-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">--- ../../anthropics/claude-code/.devcontainer/Dockerfile       2025-07-26 16:16:50</span></span>
<span id="cb4-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">+++ .devcontainer/Dockerfile    2025-07-26 23:24:59</span></span>
<span id="cb4-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">@@ -69,10 +69,8 @@</span></span>
<span id="cb4-5"> # Install Claude</span>
<span id="cb4-6"> RUN npm install -g @anthropic-ai/claude-code</span>
<span id="cb4-7"></span>
<span id="cb4-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">-# Copy and set up firewall script</span></span>
<span id="cb4-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">-COPY init-firewall.sh /usr/local/bin/</span></span>
<span id="cb4-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">-USER root</span></span>
<span id="cb4-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">-RUN chmod +x /usr/local/bin/init-firewall.sh &amp;&amp; \</span></span>
<span id="cb4-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">-  echo "node ALL=(root) NOPASSWD: /usr/local/bin/init-firewall.sh" &gt; /etc/sudoers.d/node-firewall &amp;&amp; \</span></span>
<span id="cb4-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">-  chmod 0440 /etc/sudoers.d/node-firewall</span></span>
<span id="cb4-14"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">+# Python environment setup (if needed)</span></span>
<span id="cb4-15"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">+# Copy uv binary from official image</span></span>
<span id="cb4-16"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">+COPY --from=ghcr.io/astral-sh/uv:latest /uv /usr/local/bin/uv</span></span>
<span id="cb4-17"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-18"> USER node</span></code></pre></div>
</div>
</div>
</div>
</section>
<section id="devcontainer.json" class="level3">
<h3 class="anchored" data-anchor-id="devcontainer.json">4.3. devcontainer.json</h3>
<p>以下のような <code>devcontainer.json</code> を作成しました。</p>
<p>こちらは Anthropic のリファレンス実装に比べると割と変更点が多いです。</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
4.3.1. <code>.devcontainer/devcontainer.json</code>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.devcontainer/devcontainer.json</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename=".devcontainer/devcontainer.json" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-2">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Claude Code Development Environment"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"build"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-4">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dockerfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Dockerfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-5">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"args"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-6">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"TZ"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"${localEnv:TZ:Asia/Tokyo}"</span></span>
<span id="cb5-7">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb5-9">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"runArgs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-10">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"--cap-add=NET_ADMIN"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-11">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"--cap-add=NET_RAW"</span></span>
<span id="cb5-12">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-13">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"customizations"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-14">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vscode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-15">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"extensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-16">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"editorconfig.editorconfig"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-17">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"elagil.pre-commit-helper"</span></span>
<span id="cb5-18">            <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-19">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"settings"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-20">                <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"terminal.integrated.defaultProfile.linux"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"zsh"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-21">                <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"terminal.integrated.profiles.linux"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-22">                    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"bash"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-23">                        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"path"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bash"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-24">                        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"icon"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"terminal-bash"</span></span>
<span id="cb5-25">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb5-26">                    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"zsh"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-27">                        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"path"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"zsh"</span></span>
<span id="cb5-28">                    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-29">                <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-30">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-31">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-32">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb5-33">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"remoteUser"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"node"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-34">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"mounts"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-35">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=${localEnv:CLAUDE_CONFIG_DIR},target=/home/node/.claude,type=bind,consistency=cached"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-36">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=${localEnv:HOME}/.config/gh,target=/home/node/.config/gh,type=bind,consistency=cached"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-37">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=${localEnv:HOME}/.config/git,target=/home/node/.config/git,type=bind,consistency=cached"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-38">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=${localEnv:HOME}/.gitconfig,target=/home/node/.gitconfig,type=bind,consistency=cached"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-39">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=${localEnv:HOME}/.ssh,target=/home/node/.ssh,type=bind,consistency=cached"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-40">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=claude-code-bashhistory-${devcontainerId},target=/commandhistory,type=volume"</span></span>
<span id="cb5-41">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-42">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"remoteEnv"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-43">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"CLAUDE_CONFIG_DIR"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/node/.claude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-44">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"NODE_OPTIONS"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"--max-old-space-size=4096"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-45">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"POWERLEVEL9K_DISABLE_GITSTATUS"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"true"</span></span>
<span id="cb5-46">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb5-47">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"workspaceMount"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=delegated"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-48">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"workspaceFolder"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/workspace"</span></span>
<span id="cb5-49"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</div>
<p>Anthropic のリファレンス実装 (<a href="https://github.com/anthropics/claude-code/blob/55219b8b4e612b5fc6a85f7dc4eb4382ec4134eb/.devcontainer/devcontainer.json">33e37bd</a>) と比較すると以下のような変更を行っています。</p>
<ul>
<li>VS Code 向け拡張機能を追加
<ul>
<li><code>editorconfig.editorconfig</code>
<ul>
<li>テキストエディタ間での設定を統一する</li>
</ul></li>
<li><code>elagil.pre-commit-helper</code>
<ul>
<li>pre-commit を使いやすくする</li>
</ul></li>
</ul></li>
<li>VS Code 向け Formatter 設定を削除</li>
<li><code>mounts</code> に設定ファイル群を追加
<ul>
<li>以下のツールの設定ファイルをマウントして利用します
<ul>
<li>Claude Code</li>
<li>GitHub CLI</li>
<li>Git</li>
<li>ssh</li>
</ul></li>
</ul></li>
<li><code>mounts</code> の Claude Code 設定分離部分を削除
<ul>
<li>ユーザー設定をマウントして利用したかったので削除しました</li>
</ul></li>
<li><code>remoteEnv</code> に以下の環境変数を追加
<ul>
<li><code>CLAUDE_CONFIG_DIR</code>
<ul>
<li>Claude Code の設定参照箇所の安定化を図る</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
</section>
<section id="利用手順" class="level2">
<h2 class="anchored" data-anchor-id="利用手順">5. 利用手順</h2>
<section id="claude-code-設定" class="level3">
<h3 class="anchored" data-anchor-id="claude-code-設定">5.1. Claude Code 設定</h3>
<p>Claude Code の設定ディレクトリを環境変数で指定しておきます。</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">CLAUDE_CONFIG_DIR</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$HOME</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/.claude"</span></span></code></pre></div>
</section>
<section id="dev-container-vs-code" class="level3">
<h3 class="anchored" data-anchor-id="dev-container-vs-code">5.2. Dev Container VS Code</h3>
<ol type="1">
<li>F1 -&gt; “Dev Containers: Open Folder in Container…” を選択します</li>
<li>Claude Code はインストール済みなのでターミナルから起動できます</li>
</ol>
</section>
<section id="dev-container-cli" class="level3">
<h3 class="anchored" data-anchor-id="dev-container-cli">5.3. Dev Container CLI</h3>
<p>VS Code を使わない場合は Dev Container CLI を利用できます。</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Dev Container CLI のインストール</span></span>
<span id="cb7-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">npm</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-g</span> @devcontainers/cli</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># コンテナ起動</span></span>
<span id="cb7-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">devcontainer</span> up <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--workspace-folder</span> .</span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># コンテナに接続</span></span>
<span id="cb7-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">devcontainer</span> exec <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--workspace-folder</span> . zsh</span></code></pre></div>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">6. おわりに</h2>
<p>これで Claude Code が使える開発環境の完成です。</p>
<p>次回はこの環境に Python 開発環境を追加する方法を紹介します。</p>
<p><a href="../blog/2025-07-28-article2-python-env.html">Python 開発環境最適化編 - uv + pre-commit + GitHub Actions</a></p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-ai</category>
  <category>tech-vscode</category>
  <guid>https://i9wa4.github.io/blog/2025-07-28-article1-devcontainer.html</guid>
  <pubDate>Sun, 27 Jul 2025 16:53:53 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>個人的ターミナル最適化 for Claude Code</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-07-14-optimize-your-teminal-for-claude-code.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>Claude Code で並行作業を行いやすくなるための工夫ポイントを全て共有します！</p>
<p>本当の私個人の趣味盛り盛りの内容なので役に立つ部分だけ読む形でお願いします。</p>
<p>なお分量が多いので参考記事やリンクを用意していない部分もあります。</p>
<p>インストール方法も各自で調べてください。</p>
</section>
<section id="対象読者" class="level2">
<h2 class="anchored" data-anchor-id="対象読者">2. 対象読者</h2>
<ul>
<li>Claude Code を使っている方</li>
<li>GitHub を使っている方</li>
<li>Vim を使っている、もしくは使いたい方</li>
</ul>
</section>
<section id="ターミナル以前" class="level2">
<h2 class="anchored" data-anchor-id="ターミナル以前">3. ターミナル以前</h2>
<section id="モニタ" class="level3">
<h3 class="anchored" data-anchor-id="モニタ">3.1. モニタ</h3>
<p>私は27インチ WQHD モニタを1枚使っていますが、やはりウルトラワイドモニタが良いらしいですね。</p>
<p>とはいえ私は出先や出社時はPC内蔵モニタを使っており、その場合も以降の内容で十分に Claude Code で並行作業はできるのでモニタが整っていない勢も安心して読み進めてください。</p>
</section>
<section id="os" class="level3">
<h3 class="anchored" data-anchor-id="os">3.2. OS</h3>
<p>最近よく使っているという理由で macOS (MacBook) を前提に話しますが、適宜読み替えても同様の環境が構築できるはずです。</p>
<p>一応 Ubuntu や Windows (WSL) も利用してはいるのである程度はクロスプラットフォームな内容にできていると思います。</p>
</section>
<section id="ウインドウマネージャー" class="level3">
<h3 class="anchored" data-anchor-id="ウインドウマネージャー">3.3. ウインドウマネージャー</h3>
<p>ターミナルと他ウインドウとの行き来を快適にできるのであればウインドウマネージャーは必須ではないです。</p>
<p>macOS では Windows でいう「Win+数字」に相当する一手で表示アプリを切り替えるショートカットが無いので AeroSpace を利用しています。</p>
<p><a href="https://github.com/nikitabobko/AeroSpace" class="uri">https://github.com/nikitabobko/AeroSpace</a></p>
<p>導入時に以下の記事がとても参考になりました。</p>
<p><a href="https://zenn.dev/mozumasu/articles/mozumasu-window-costomization">デスクトップは「清く・正しく・美しく」AeroSpace, JankyBorders, SketchyBar, alt-tab</a></p>
</section>
<section id="ブラウザ" class="level3">
<h3 class="anchored" data-anchor-id="ブラウザ">3.4. ブラウザ</h3>
<p>私は複数ウインドウや仮想デスクトップを使いこなすのが苦手なので Chrome のタブグループ機能で並行作業に対応することが多いです。</p>
</section>
<section id="dotfiles" class="level3">
<h3 class="anchored" data-anchor-id="dotfiles">3.5. dotfiles</h3>
<p>Claude Code による生産性をいかに上げるかが注目されている昨今、いつでもどんな PC でも快適に作業するために設定を記述しておく dotfiles の重要性が増していると個人的に話題です。</p>
<p>dotfiles にまだ入門できていない方は入門記事を参考にしてください。</p>
<p>今回述べている内容はほとんど以下の dotfiles に記述したものとなります。</p>
<p><a href="https://github.com/i9wa4/dotfiles" class="uri">https://github.com/i9wa4/dotfiles</a></p>
<p>私の設定で気になる内容がある場合は以下の DeepWiki で質問してみると的確な回答が得られます。</p>
<p><a href="https://deepwiki.com/i9wa4/dotfiles" class="uri">https://deepwiki.com/i9wa4/dotfiles</a></p>
</section>
</section>
<section id="シェル" class="level2">
<h2 class="anchored" data-anchor-id="シェル">4. シェル</h2>
<p>Zsh を愛用してます。</p>
<p>以下で Zsh のおすすめプラグインを紹介します。</p>
<section id="zinit" class="level3">
<h3 class="anchored" data-anchor-id="zinit">4.1. Zinit</h3>
<p>Zsh のプラグインマネージャーです。</p>
<p><a href="https://github.com/zdharma-continuum/zinit" class="uri">https://github.com/zdharma-continuum/zinit</a></p>
</section>
<section id="zeno.zsh-zshfish" class="level3">
<h3 class="anchored" data-anchor-id="zeno.zsh-zshfish">4.2. zeno.zsh (Zsh/Fish)</h3>
<p>Zsh の操作体験を全般的に向上させるプラグインの zeno.zsh です。</p>
<p><a href="https://github.com/yuki-yano/zeno.zsh" class="uri">https://github.com/yuki-yano/zeno.zsh</a></p>
<p>正直これが無いとターミナルを使う気になれないと思えるくらいに便利です。</p>
<p>最近 Fish にも対応したようなので Fish ユーザーの方もぜひ試してみてください。</p>
<p>作者の yuki-yano さんによる記事が参考になります。</p>
<p><a href="https://zenn.dev/yano/articles/zsh_plugin_from_deno">Deno + TypeScriptでzshプラグインを実装して最高になった</a></p>
<p>以下で Claude Code と共に生きる上で zeno.zsh に担ってもらっている役割を紹介します。</p>
<p>もちろんここに記述していない他の機能も便利です。</p>
<section id="ghq-管理リポジトリへの移動" class="level4">
<h4 class="anchored" data-anchor-id="ghq-管理リポジトリへの移動">4.2.1. ghq 管理リポジトリへの移動</h4>
<p>ghq については後述します。</p>
<p>zeno.zsh によって ghq + fzf の組み合わせでリポジトリへの移動がとても快適になります。</p>
</section>
<section id="tmux-セッション名へのリポジトリ名自動反映" class="level4">
<h4 class="anchored" data-anchor-id="tmux-セッション名へのリポジトリ名自動反映">4.2.2. tmux セッション名へのリポジトリ名自動反映</h4>
<p>ghq でリポジトリ移動すると tmux セッション名が自動でリポジトリ名に変更されます。</p>
<p>これにより難なく複数セッションを扱えます。</p>
</section>
</section>
</section>
<section id="ターミナル" class="level2">
<h2 class="anchored" data-anchor-id="ターミナル">5. ターミナル</h2>
<p>何でもよいのですが私は Alacritty を使っています。</p>
<p>通知音が鳴るように設定しておくとよいです。</p>
</section>
<section id="tmux" class="level2">
<h2 class="anchored" data-anchor-id="tmux">6. tmux</h2>
<p>複数ターミナルの管理について、タブ機能をもつターミナルもありますが私は tmux で複数ターミナルを管理するのが好きです。</p>
<p><a href="https://github.com/tmux/tmux/wiki/Installing" class="uri">https://github.com/tmux/tmux/wiki/Installing</a></p>
<section id="tmux-おすすめキーバインド" class="level3">
<h3 class="anchored" data-anchor-id="tmux-おすすめキーバインド">6.1. tmux おすすめキーバインド</h3>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>tmux.conf</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="tmux.conf" style="background: #f1f3f5;"><pre class="sourceCode conf code-with-copy"><code class="sourceCode toml"><span id="cb1-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">bind-key</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-n</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">M-Left</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">previous-window</span></span>
<span id="cb1-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">bind-key</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-n</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">M-Right</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">next-window</span></span>
<span id="cb1-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">bind-key</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-n</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">M-Up</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">switch-client</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-p</span></span>
<span id="cb1-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">bind-key</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-n</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">M-Down</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">switch-client</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-n</span></span></code></pre></div>
</div>
<p>こちらは</p>
<ul>
<li>tmux のセッション間を Alt + 上下キーで切り替える</li>
<li>tmux のウインドウ間を Alt + 左右キーで切り替える</li>
</ul>
<p>を実現するキーバインドです。</p>
<p>これにより Claude Code の並行作業の様子を片手でセッションやウインドウを切り替えながら確認できます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>tmux.conf</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="tmux.conf" style="background: #f1f3f5;"><pre class="sourceCode conf code-with-copy"><code class="sourceCode toml"><span id="cb2-1"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">bind-key</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">%</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">split-window</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-h</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-c</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"#{pane_current_path}"</span></span>
<span id="cb2-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">bind-key</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">'"'</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">split-window</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-v</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-c</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"#{pane_current_path}"</span></span>
<span id="cb2-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">bind-key</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">c</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">new-window</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-c</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"#{pane_current_path}"</span></span></code></pre></div>
</div>
<p>こちらは現在開いているディレクトリを継承して新しいペインやウインドウを作成するキーバインドです。</p>
<p>Claude Code と同じディレクトリに移動した状態のターミナルを即座に起動できます。</p>
</section>
<section id="tmux-おすすめプラグイン" class="level3">
<h3 class="anchored" data-anchor-id="tmux-おすすめプラグイン">6.2. tmux おすすめプラグイン</h3>
<p><a href="https://github.com/tmux-plugins/tpm" class="uri">https://github.com/tmux-plugins/tpm</a></p>
<p>tmux のプラグインマネージャーです。</p>
<p><a href="https://github.com/kristijanhusak/tmux-simple-git-status" class="uri">https://github.com/kristijanhusak/tmux-simple-git-status</a></p>
<p>tmux のステータスバーに Git の状態を表示するプラグインです。</p>
</section>
</section>
<section id="git" class="level2">
<h2 class="anchored" data-anchor-id="git">7. Git</h2>
<section id="worktree" class="level3">
<h3 class="anchored" data-anchor-id="worktree">7.1. worktree</h3>
<p>最近注目されている <code>git worktree</code> を使いましょう。</p>
<p>worktree 作成作業は定型化できると思うので worktree 作成用のスクリプトを作成しておくと便利です。</p>
</section>
<section id="gitignore" class="level3">
<h3 class="anchored" data-anchor-id="gitignore">7.2. gitignore</h3>
<p>リポジトリ内の作業ディレクトリ (<code>tmp/</code> など) を gitignore して Claude Code の作業場にしておくことをおすすめします。</p>
<p>指示用のドキュメントやログを格納して Claude Code に読ませるといった使い方ができます。</p>
</section>
<section id="ghq" class="level3">
<h3 class="anchored" data-anchor-id="ghq">7.3. ghq</h3>
<p>リポジトリの管理は ghq に任せたほうがよいです。</p>
<p><a href="https://github.com/x-motemen/ghq" class="uri">https://github.com/x-motemen/ghq</a></p>
</section>
</section>
<section id="エディタ" class="level2">
<h2 class="anchored" data-anchor-id="エディタ">8. エディタ</h2>
<p>私は Vim が好きで使っています。</p>
<p>以下で私が Claude Code のために利用している Vim プラグインを紹介します。</p>
<section id="vim-tmux-send-to-ai-cli" class="level3">
<h3 class="anchored" data-anchor-id="vim-tmux-send-to-ai-cli">8.1. vim-tmux-send-to-ai-cli</h3>
<p><a href="https://github.com/i9wa4/vim-tmux-send-to-ai-cli" class="uri">https://github.com/i9wa4/vim-tmux-send-to-ai-cli</a></p>
<p>拙作プラグインです。</p>
<p>Vim のバッファや複数行にわたる選択範囲などを自在に tmux の Claude Code ペインに送信できます。</p>
<p>現時点では Claude Code と Gemini CLI に対応しています。</p>
<p>このプラグインを使うと基本的に AI への入力にまつわる問題を Vim での文章作成における問題に帰着できます。</p>
<p>つまり何が言いたいかというと AI の入力欄の機能に依存せずに AI への入力を作成できるということです。</p>
<p>Vim に帰着させることで改行しづらい問題や Gemini CLI にカスタムスラッシュコマンドがない問題などを全て解決できます。</p>
</section>
<section id="ddc.vim" class="level3">
<h3 class="anchored" data-anchor-id="ddc.vim">8.2. ddc.vim</h3>
<p><a href="https://github.com/Shougo/ddc.vim" class="uri">https://github.com/Shougo/ddc.vim</a></p>
<p>補完機能を強化するために ddc.vim を使っています。</p>
</section>
<section id="skkeleton" class="level3">
<h3 class="anchored" data-anchor-id="skkeleton">8.3. skkeleton</h3>
<p><a href="https://github.com/vim-skk/skkeleton" class="uri">https://github.com/vim-skk/skkeleton</a></p>
<p>Vim で日本語入力をしづらいという問題を解決するために SKK を利用できる skkeleton を使っています。</p>
<p>私は ddc.vim の source として利用しています。</p>
</section>
<section id="ddc-source-file" class="level3">
<h3 class="anchored" data-anchor-id="ddc-source-file">8.4. ddc-source-file</h3>
<p><a href="https://github.com/LumaKernel/ddc-source-file" class="uri">https://github.com/LumaKernel/ddc-source-file</a></p>
<p>ddc.vim の source です。ファイル名やパスを補完してくれます。</p>
<p>一応 Vim の補完機能で</p>
<blockquote class="blockquote">
<p>CTRL-X CTRL-F</p>
</blockquote>
<p><a href="https://vim-jp.org/vimdoc-ja/usr_24.html#24.3" class="uri">https://vim-jp.org/vimdoc-ja/usr_24.html#24.3</a></p>
<p>を使用すると同等の補完ができますが、より快適な ddc.vim の補完機能がよいと思います。</p>
</section>
</section>
<section id="claude-code-設定" class="level2">
<h2 class="anchored" data-anchor-id="claude-code-設定">9. Claude Code 設定</h2>
<section id="claude_config_dir" class="level3">
<h3 class="anchored" data-anchor-id="claude_config_dir">9.1. <code>$CLAUDE_CONFIG_DIR</code></h3>
<p>必ず設定しましょう。</p>
<p>私は以下のように設定しています。</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">CLAUDE_CONFIG_DIR</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${XDG_CONFIG_HOME}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>/claude</span></code></pre></div>
</section>
<section id="claude.md" class="level3">
<h3 class="anchored" data-anchor-id="claude.md">9.2. CLAUDE.md</h3>
<p>私は CLAUDE.md は作成していません。</p>
<p>CLAUDE.md を作成せず Claude Code に最適化しすぎないことで Gemini CLI などの他の AI ツールに移行しやすくしようと考えています。</p>
<p>もう1つの理由としては再読み込みが必要になる場面では CLAUDE.md よりカスタムスラッシュコマンドの再実行の方が楽だと感じているからです。</p>
</section>
<section id="カスタムスラッシュコマンド" class="level3">
<h3 class="anchored" data-anchor-id="カスタムスラッシュコマンド">9.3. カスタムスラッシュコマンド</h3>
<p>ここが AI とやりとりをする上での肝になります。</p>
<p>私の dotfiles では以下のカスタムスラッシュコマンドを用意しています。</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">.</span></span>
<span id="cb4-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> commands</span>
<span id="cb4-3">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> commit.md</span>
<span id="cb4-4">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> CONTRIBUTING.md</span>
<span id="cb4-5">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> issue-to-pr.md</span>
<span id="cb4-6">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> learn-bigquery.md</span>
<span id="cb4-7">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> learn-databricks.md</span>
<span id="cb4-8">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> learn-dbt.md</span>
<span id="cb4-9">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> review.md</span></code></pre></div>
<p>issue-to-pr.md については、羃等性をもたせ Anthropic のベストプラクティスに沿った形で Pull Request 作成に誘導できるコマンドに仕上げている最中で、ノウハウが蓄積されてきたら別途記事にしようと思います。</p>
</section>
<section id="settings.json" class="level3">
<h3 class="anchored" data-anchor-id="settings.json">9.4. settings.json</h3>
<p>あまり凝ったことはしていません。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>settings.json</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="settings.json" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-2">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"permissions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-3">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"allow"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-4">        <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-5">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"deny"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-6">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Bash(rm:*)"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-7">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WebFetch(domain:github.com)"</span></span>
<span id="cb5-8">        <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb5-10">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"env"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-11">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"BASH_DEFAULT_TIMEOUT_MS"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300000</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-12">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"BASH_MAX_TIMEOUT_MS"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300000</span></span>
<span id="cb5-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb5-14">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"includeCoAuthoredBy"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">false</span></span>
<span id="cb5-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</div>
<p>基本的に</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">claude</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--dangerously-skip-permissions</span></span></code></pre></div>
<p>で起動するので permissions に関しては allow ではなく deny を充実させていく方針で設定しています。</p>
<p>Claude Code はよくファイル削除を試みるので <code>Bash(rm:*)</code> は必須だと思います。</p>
</section>
<section id="claude.json" class="level3">
<h3 class="anchored" data-anchor-id="claude.json">9.5. .claude.json</h3>
<p>通知音を鳴らすための設定を行います。</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">claude</span> config set <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--global</span> preferredNotifChannel terminal_bell</span></code></pre></div>
<p>このコマンドを実行すると以下のような設定が <code>.claude.json</code> に追加されます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.claude.json</strong></pre>
</div>
<div class="sourceCode" id="cb8" data-filename=".claude.json" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb8-1">  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"preferredNotifChannel":</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"terminal_bell",</span></span></code></pre></div>
</div>
<p>これで足りなければ Hooks 設定の作り込みで対応していきましょう。</p>
<p>通知音設定については勉強中です。</p>
</section>
</section>
<section id="dev-container" class="level2">
<h2 class="anchored" data-anchor-id="dev-container">10. Dev Container</h2>
<p>Dev Container で Claude Code を利用することで安全に</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">claude</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--dangerously-skip-permissions</span></span></code></pre></div>
<p>ができます。</p>
<p><a href="https://docs.anthropic.com/en/docs/claude-code/devcontainer" class="uri">https://docs.anthropic.com/en/docs/claude-code/devcontainer</a></p>
<p>Anthropic 公式が示す <code>.devcontainer</code> がそのまま使えます。</p>
<p>以下のようにグローバルな Claude Code 設定をマウントするなどして利便性向上を図りつつ使っていきましょう。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.devcontainer/devcontainer.json</strong></pre>
</div>
<div class="sourceCode" id="cb10" data-filename=".devcontainer/devcontainer.json" style="background: #f1f3f5;"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb10-1">    <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">"mounts":</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb10-2">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=claude-code-bashhistory-${devcontainerId},target=/commandhistory,type=volume"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-3">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=claude-code-config-${devcontainerId},target=/home/node/.claude,type=volume"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source=${localEnv:HOME}/ghq/github.com/i9wa4/dotfiles/dot.config/claude,target=/home/node/.claude,type=bind,consistency=cached"</span></span>
<span id="cb10-5">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">,</span></span></code></pre></div>
</div>
<p><a href="https://github.com/devcontainers/cli" class="uri">https://github.com/devcontainers/cli</a></p>
<p>Dev Container を CLI で利用する際は Dev Container CLI を利用しましょう。</p>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">11. おわりに</h2>
<p>各項目それだけでも記事になるくらいの内容で消化が大変かもしれませんが参考になれば幸いです。</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-ai</category>
  <category>tech-tmux</category>
  <category>tech-vim</category>
  <guid>https://i9wa4.github.io/blog/2025-07-14-optimize-your-teminal-for-claude-code.html</guid>
  <pubDate>Sun, 13 Jul 2025 17:27:26 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Vimへの初コントリビューションの経緯と学び</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-07-14-my-first-vim-contribution.html</link>
  <description><![CDATA[ 





<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>この記事は <a href="https://vim-jp.org/ekiden/">Vim 駅伝</a> の 2025-07-14 の記事です。</p>
<p>前回は 2025-07-11 NI57721 さんの <a href="https://zenn.dev/vim_jp/articles/wayland-clipboard-feature-in-vim">Vim が Wayland のクリップボードをサポート</a> でした。</p>
</div>
</div>
<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>Vim 本体に出したバグ修正の Pull Request がマージされました。</p>
<p><a href="https://github.com/vim/vim/commit/b3eaae21b9f681d23466e7caa0b9d7e32cb4b206" class="uri">https://github.com/vim/vim/commit/b3eaae21b9f681d23466e7caa0b9d7e32cb4b206</a></p>
<p>以降でバグ発見の経緯と学びを共有します。</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i9wa4.github.io/assets/2025-07-14-my-first-vim-contribution/vim-contributor.png" class="img-fluid figure-img"></p>
<figcaption>私に Vim Contributor 表記が付与されている様子</figcaption>
</figure>
</div>
</section>
<section id="バグ発見の経緯" class="level2">
<h2 class="anchored" data-anchor-id="バグ発見の経緯">2. バグ発見の経緯</h2>
<p>私は Vim の HEAD (main ブランチの最新コミット) ビルドを日課にしています。</p>
<p>自分でビルドするとビルドオプションを指定できたり最新機能が使えたりして楽しいです。</p>
<p>そうしているうちにある日ビルトインのファイラープラグインである Netrw.vim のファイル一覧に空行の入るバグが入ったことに気付きました。</p>
<p>気になって Vim 本体の Issue や Pull Request を見ても同様のバグが報告されていなかったので自分で Pull Request を出すことにしました。</p>
<p>……反省点として後述しますがこの判断はちょっと考慮が足りなかったです。</p>
</section>
<section id="pull-request-作成まで" class="level2">
<h2 class="anchored" data-anchor-id="pull-request-作成まで">3. Pull Request 作成まで</h2>
<p>OSS プロジェクトに Pull Request を出したことがなかったのですが、 CONTRIBUTING.md を読めばいいであろうということは知っていたので Vim のリポジトリの CONTRIBUTING.md を読みました。</p>
<p><a href="https://github.com/vim/vim/blob/master/CONTRIBUTING.md" class="uri">https://github.com/vim/vim/blob/master/CONTRIBUTING.md</a></p>
<p>今回については Signing-off commits 推奨ということくらいで特に細かく何かを守る必要はないのかなという理解をしました。</p>
<p>とは言えそれでは不安があったので直近の Netrw.vim 関連のコミットや Pull Request をざっくり確認してみました。</p>
<p>実際の修正内容については Netrw.vim プラグインの直近1-2週間の間に入ったコミットの影響であろうことは分かっていたので Claude Code にバグ混入コミットを特定してもらって、修正案も出してもらいました。</p>
<p>自分のマシン (macOS) では1行追加するだけで修正できることが分かり、勢いで Pull Request を作成しました。</p>
</section>
<section id="pull-request-のレビュー" class="level2">
<h2 class="anchored" data-anchor-id="pull-request-のレビュー">4. Pull Request のレビュー</h2>
<p>Netrw.vim のメンテナの <span class="citation" data-cites="saccarosium">@saccarosium</span> さんにレビューしていただき Upstream と書き味を揃える Suggestion をいただきマージされました。</p>
</section>
<section id="学び" class="level2">
<h2 class="anchored" data-anchor-id="学び">5. 学び</h2>
<section id="反省点" class="level3">
<h3 class="anchored" data-anchor-id="反省点">5.1. 反省点</h3>
<p>Pull Request を出すまでは近眼的になって気付かなかったのですが今回の修正対象のファイルのトップに</p>
<p><a href="https://github.com/vim/vim/blob/68ee1cf7de36bdd6e642807c8beda751112aaab8/runtime/pack/dist/opt/netrw/autoload/netrw.vim">vim/runtime/pack/dist/opt/netrw/autoload/netrw.vim</a></p>
<blockquote class="blockquote">
<pre class="vim"><code>" Upstream: &lt;https://github.com/saccarosium/netrw.vim&gt;</code></pre>
</blockquote>
<p>と書かれている通り Netrw.vim には Upstream のリポジトリ</p>
<p><a href="https://github.com/saccarosium/netrw.vim" class="uri">https://github.com/saccarosium/netrw.vim</a></p>
<p>が存在します。</p>
<p>実際 Upstream では私が Pull Request を作成する2日前に既に本件は修正済みとなっていました。</p>
<p>というわけで本来はこの Upstream のリポジトリを最初に確認するのが正しい手順でした。</p>
<p>この状況を理解していた場合でも早めに Vim 本体側へ適用してほしい旨を相談することに変わりはなかったのですが、全てを知った上で行動するのが最善だったなあと思います。</p>
<p>だれがどのように関わって Vim という巨大なリポジトリが成り立っているのかもっと知ろうと思うようになりました。</p>
<p>もう1つの反省点は、改行回りが関係するので macOS だけでなく Windows についても考慮する必要があったという点です。</p>
<p>Vim のクロスプラットフォーム対応って大変なことなんだなあと改めて実感しました。</p>
</section>
<section id="netrw.vim-の理解度アップ" class="level3">
<h3 class="anchored" data-anchor-id="netrw.vim-の理解度アップ">5.2. Netrw.vim の理解度アップ</h3>
<p>Netrw.vim はメンテナ不在でバグも放置されていると言われていてここ数年その理解のままでした。</p>
<p>今回の Pull Request をきっかけに新しいメンテナの方が精力的にリファクタリングを行っている現状を知ることができました。</p>
<p>(今回のバグはリファクタリングの影響で発生したものでした)</p>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">6. おわりに</h2>
<p>理解が不十分なまま勢いで Pull Request を作成したもののメンテナの <span class="citation" data-cites="saccarosium">@saccarosium</span> さんの温情によりマージに至りました。</p>
<p>なんやかんやで自分は Netrw.vim を毎日使っていて愛着があるなと自覚したのでこれ以降 Upstream の最新版を利用してます。</p>
<p>また次のコントリビュートチャンスを狙っていきたいと思います。</p>
</section>
<section id="おまけ" class="level2">
<h2 class="anchored" data-anchor-id="おまけ">7. おまけ</h2>
<p><a href="https://vim-jp.org/docs/chat.html">vim-jp Slack</a> の #dev チャンネルにて成果報告した様子</p>
<p>vim-jp における #dev チャンネルとはもちろん Vim 本体開発の話題を扱うチャンネルですよ！</p>
<p><img src="https://i9wa4.github.io/assets/2025-07-14-my-first-vim-contribution/vim-jp-igyo.png" class="img-fluid" style="width:50.0%"></p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-vim</category>
  <category>vim-jp</category>
  <guid>https://i9wa4.github.io/blog/2025-07-14-my-first-vim-contribution.html</guid>
  <pubDate>Sun, 13 Jul 2025 15:06:04 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>tmux で Vim から Claude Code にテキストを送信するプラグインを作った</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-06-20-vim-plugin-for-tmux-claude-code.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>昨日 Claude Code デビューしました！🙌</p>
<p>Claude Code 入力欄に Vim からテキストを送信したかったので Claude Code で Vim プラグインを作りました。</p>
</section>
<section id="プラグインの概要" class="level2">
<h2 class="anchored" data-anchor-id="プラグインの概要">2. プラグインの概要</h2>
<p>こちらが作成した Vim プラグインです。</p>
<p><a href="https://github.com/i9wa4/vim-tmux-send-to-claude-code"><img src="https://i9wa4.github.io/assets/2025-06-20-vim-plugin-for-tmux-claude-code/vim-tmux-send-to-claude-code.jpeg" class="img-fluid"></a></p>
<p><a href="https://github.com/i9wa4/vim-tmux-send-to-claude-code" class="uri">https://github.com/i9wa4/vim-tmux-send-to-claude-code</a></p>
<p>tmux で同一ウインドウ内の特定の Claude Code ペイン (変数で指定可) に対して Vim ペインから以下のテキストを送信できます。</p>
<ul>
<li>バッファ全体</li>
<li>ヤンクしたテキスト</li>
<li>Visual モードで選択したテキスト</li>
<li>指定した行範囲のテキスト</li>
</ul>
</section>
<section id="claude-code-を使ってみた感想" class="level2">
<h2 class="anchored" data-anchor-id="claude-code-を使ってみた感想">3. Claude Code を使ってみた感想</h2>
<p>もともとヤンクしたテキストを tmux のペイン間で送信するためのプラグインを作ろうと思っていました。</p>
<p>Claude Code に任せつつ私のアイデアを共有したところ、気の効いた機能追加やドキュメント整備をサクッとやってくれました。</p>
<p>README.md で紹介されているプラグインマネージャーが古かったり、キーバインドをデフォルトで押し付けてこようとしたりと既存のプラグインのリポジトリの特徴を掴んでいて面白いかったです。</p>
<p>キーバインド押し付けは主義に反するので直してもらいましたが、プラグインマネージャーは古いままにしておきましょうかね。笑</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-ai</category>
  <category>tech-tmux</category>
  <category>tech-vim</category>
  <guid>https://i9wa4.github.io/blog/2025-06-20-vim-plugin-for-tmux-claude-code.html</guid>
  <pubDate>Thu, 19 Jun 2025 18:00:02 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>ローカル dbt で BigQuery への認証を行う</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-06-15-dbt-bigquery-auth.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>dbt も BigQuery も経験それなりにあるものの dbt x BigQuery をやったことがなかったので認証方法を知ったのが今となります。</p>
</section>
<section id="dbt-のドキュメントを参照してみる" class="level2">
<h2 class="anchored" data-anchor-id="dbt-のドキュメントを参照してみる">2. dbt のドキュメントを参照してみる</h2>
<p>OAuth を使った認証方法は以下のドキュメントに記載されています。</p>
<p><a href="https://docs.getdbt.com/docs/core/connect-data-platform/bigquery-setup#local-oauth-gcloud-setup" class="uri">https://docs.getdbt.com/docs/core/connect-data-platform/bigquery-setup#local-oauth-gcloud-setup</a></p>
<p>ではあるのですが、実際のログイン方法として紹介されているコマンドは少し違うようで、代表的なものは以下のような感じです。</p>
<p><a href="https://dev.classmethod.jp/articles/dbt-core-bigquery/">dbt CoreでローカルからBigQueryを操作するためのセットアップ方法 | DevelopersIO</a></p>
<p>記事でよく見かけるものを実行していきます。</p>
</section>
<section id="認証手順" class="level2">
<h2 class="anchored" data-anchor-id="認証手順">3. 認証手順</h2>
<section id="profiles.yml-の設定" class="level3">
<h3 class="anchored" data-anchor-id="profiles.yml-の設定">3.1. profiles.yml の設定</h3>
<p>以下のような記載が含まれていれば OK</p>
<p><code>method: oauth</code> を指定していることがポイントです。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/.dbt/profiles.yml</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="~/.dbt/profiles.yml" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">my_dbt_project</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">target</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> dev</span></span>
<span id="cb1-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">outputs</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-4"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dev</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">type</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> bigquery</span></span>
<span id="cb1-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">method</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> oauth</span></span>
<span id="cb1-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">project</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> my-google-cloud-project</span></span>
<span id="cb1-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">threads</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span></span>
<span id="cb1-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">schema</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> my_schema</span></span></code></pre></div>
</div>
</section>
<section id="アプリケーション向けのログイン" class="level3">
<h3 class="anchored" data-anchor-id="アプリケーション向けのログイン">3.2. アプリケーション向けのログイン</h3>
<p>以下のコマンドにより dbt が Google Cloud の API を呼び出せることになります。</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> gcloud auth application-default login</span></code></pre></div>
</section>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">4. おわりに</h2>
<p>いま手元では1環境にしかログインしないのであまり深く理解していなくても大丈夫ですが、複数環境にログインする際にもうちょっと深く理解しておきます。</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-data</category>
  <guid>https://i9wa4.github.io/blog/2025-06-15-dbt-bigquery-auth.html</guid>
  <pubDate>Sun, 15 Jun 2025 13:35:51 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>uv で Python のグローバルインストールを行う</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-06-10-install-global-python-with-uv.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>Python 環境管理に uv を使い始めて以来 pyenv が不要になりアンインストールしたのですが、スポット的に Python のグローバルインストールが必要になったので uv での手順をメモしておきます。</p>
</section>
<section id="手順" class="level2">
<h2 class="anchored" data-anchor-id="手順">2. 手順</h2>
<p><a href="https://docs.astral.sh/uv/concepts/python-versions/#installing-python-executables">Python versions | uv</a></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> uv python install 3.12 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--default</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--preview</span></span></code></pre></div>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-python</category>
  <guid>https://i9wa4.github.io/blog/2025-06-10-install-global-python-with-uv.html</guid>
  <pubDate>Tue, 10 Jun 2025 05:37:57 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Poetry の pyproject.toml を使って uv で .venv を作成する</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-06-08-create-uv-venv-with-poetry-pyproject-toml.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>最近 Python の仮想環境構築に uv を利用し始めて以来 pyenv を削除してしまったりとすっかり uv が気に入っています。</p>
<p>とはいえ全てのプロジェクトを直ちに uv へ移行するのも全員の学習コストがかかるため難しいと思います。</p>
<p>過渡期の対応としてローカルで Poetry の pyproject.toml を使用して uv で仮想環境構築する方法をメモしておきます。</p>
</section>
<section id="仮想環境構築手順" class="level2">
<h2 class="anchored" data-anchor-id="仮想環境構築手順">2. 仮想環境構築手順</h2>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># .venv を作成する</span></span>
<span id="cb1-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># このとき .python-version に記載された Python で構築される</span></span>
<span id="cb1-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> uv venv</span>
<span id="cb1-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> CPython 3.12.1</span>
<span id="cb1-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Creating</span> virtual environment at: .venv</span>
<span id="cb1-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Activate</span> with: source .venv/bin/activate</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 仮想環境にパッケージをインストールする</span></span>
<span id="cb1-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> uv pip install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--requirement</span> pyproject.toml</span></code></pre></div>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">3. おわりに</h2>
<p><code>$ uv pip install --requirement pyproject.toml</code> ここ爆速すぎて uv が好きになると思うのでちょっとやってみてほしいです。</p>
<p>ちなみにこの方法だと poetry.lock に従うわけではないので完全に同じ環境を再現するわけではありません。</p>
<p>とはいえほとんど齟齬のない環境を構築できます。</p>
<p>しばらくすると忘れそうなのでメモ代わりの記事でした。</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-python</category>
  <guid>https://i9wa4.github.io/blog/2025-06-08-create-uv-venv-with-poetry-pyproject-toml.html</guid>
  <pubDate>Sat, 07 Jun 2025 15:58:37 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Vim/Neovim の保存時の LSP フォーマットを :w! のときに無効化する方法</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-06-04-use-cmdbang-to-disable-lsp-formatting-on-save.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>以下の記事を読んで Conform.nvim は使っていなかったものの悩みごとが解決する！！！！と思ったので自分の環境でも試してみました。</p>
<p><a href="https://blog.atusy.net/2025/06/03/skip-conform-nvim-format-on-save/">Conform.nvimの保存時フォーマットをスキップする方法 | Atusy’s blog</a></p>
</section>
<section id="vim-での設定" class="level2">
<h2 class="anchored" data-anchor-id="vim-での設定">2. Vim での設定</h2>
<p>dpp.vim で管理している TOML ファイルから vim-lsp-settings 向け設定を抜粋しました。</p>
<p>format on save 設定に <code>v:cmdbang</code> を使うことで、<code>:w!</code> のときはフォーマットをスキップするようにしています。</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb1-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[plugins]]</span></span>
<span id="cb1-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">repo</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">mattn/vim-lsp-settings</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span></span>
<span id="cb1-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">on_source</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">vim-lsp</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb1-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">hook_source</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span>
<span id="cb1-5"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">let g:lsp_diagnostics_float_cursor = v:true</span></span>
<span id="cb1-6"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">let g:lsp_diagnostics_virtual_text_align = "after"</span></span>
<span id="cb1-7"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">let g:lsp_diagnostics_virtual_text_wrap = "truncate"</span></span>
<span id="cb1-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">let g:lsp_log_file = ''</span></span>
<span id="cb1-9"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">let g:lsp_settings_enable_suggestions = v:false</span></span>
<span id="cb1-10"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">let g:lsp_settings = {</span></span>
<span id="cb1-11"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\   'deno': {</span></span>
<span id="cb1-12"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\     'disabled': v:false,</span></span>
<span id="cb1-13"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\   },</span></span>
<span id="cb1-14"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\   'efm-langserver': {</span></span>
<span id="cb1-15"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\     'disabled': v:false,</span></span>
<span id="cb1-16"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\   },</span></span>
<span id="cb1-17"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\   'pylsp': {</span></span>
<span id="cb1-18"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\     'disabled': v:true,</span></span>
<span id="cb1-19"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\   },</span></span>
<span id="cb1-20"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\   'pylsp-all': {</span></span>
<span id="cb1-21"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\     'disabled': v:true,</span></span>
<span id="cb1-22"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\   },</span></span>
<span id="cb1-23"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">\ }</span></span>
<span id="cb1-24"></span>
<span id="cb1-25"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">augroup MyLspSetting</span></span>
<span id="cb1-26"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  autocmd!</span></span>
<span id="cb1-27"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  autocmd BufWritePost * if !v:cmdbang | execute 'LspDocumentFormatSync' | endif</span></span>
<span id="cb1-28"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">augroup END</span></span>
<span id="cb1-29"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span></code></pre></div>
</section>
<section id="neovim-での設定" class="level2">
<h2 class="anchored" data-anchor-id="neovim-での設定">3. Neovim での設定</h2>
<p>同様に TOML で管理している nvim-lspconfig 設定を抜粋しました。</p>
<p><code>vim.v.cmdbang</code> を使っています。</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode toml code-with-copy"><code class="sourceCode toml"><span id="cb2-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[plugins]]</span></span>
<span id="cb2-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">repo</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">neovim/nvim-lspconfig</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span></span>
<span id="cb2-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">on_event</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">VimEnter</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb2-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">lua_source</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span>
<span id="cb2-5"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">-- https://github.com/uga-rosa/ddc-source-lsp-setup</span></span>
<span id="cb2-6"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">require('ddc_source_lsp_setup').setup()</span></span>
<span id="cb2-7"></span>
<span id="cb2-8"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">-- https://github.com/neovim/nvim-lspconfig?tab=readme-ov-file#configuration</span></span>
<span id="cb2-9"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">local lspconfig = require('lspconfig')</span></span>
<span id="cb2-10"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">-- lspconfig.pylsp.setup{}</span></span>
<span id="cb2-11"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">lspconfig.denols.setup{}</span></span>
<span id="cb2-12"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">lspconfig.efm.setup{}</span></span>
<span id="cb2-13"></span>
<span id="cb2-14"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">-- :help lsp-defaults-disable</span></span>
<span id="cb2-15"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">vim.api.nvim_create_autocmd('LspAttach', {</span></span>
<span id="cb2-16"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  callback = function(ev)</span></span>
<span id="cb2-17"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    -- unset</span></span>
<span id="cb2-18"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    vim.bo[ev.buf].formatexpr = nil</span></span>
<span id="cb2-19"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    vim.bo[ev.buf].omnifunc = nil</span></span>
<span id="cb2-20"></span>
<span id="cb2-21"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    -- unmap</span></span>
<span id="cb2-22"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    -- vim.keymap.del('n', 'K', { buffer = ev.buf })</span></span>
<span id="cb2-23"></span>
<span id="cb2-24"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    -- map</span></span>
<span id="cb2-25"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    local opts = { buffer = bufnr, noremap = true, silent = true }</span></span>
<span id="cb2-26"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    vim.keymap.set('n', '&lt;space&gt;lf', vim.diagnostic.open_float, opts)</span></span>
<span id="cb2-27"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  end,</span></span>
<span id="cb2-28"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">})</span></span>
<span id="cb2-29"></span>
<span id="cb2-30"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">vim.api.nvim_create_autocmd('BufWritePost', {</span></span>
<span id="cb2-31"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  callback = function()</span></span>
<span id="cb2-32"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    if vim.v.cmdbang == 0 then</span></span>
<span id="cb2-33"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">      vim.lsp.buf.format()</span></span>
<span id="cb2-34"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">    end</span></span>
<span id="cb2-35"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">  end,</span></span>
<span id="cb2-36"><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">})</span></span>
<span id="cb2-37"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'''</span></span></code></pre></div>
</section>
<section id="まとめ" class="level2">
<h2 class="anchored" data-anchor-id="まとめ">4. まとめ</h2>
<p>これまでは保存したいけどフォーマットしたくない場面を回避するためにフォーマット用のキーバインドを用意して format on save を無効化していました。</p>
<p>たまにフォーマットし忘れて辛かったのでこの対応でとってもハッピーになりました！</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-vim</category>
  <guid>https://i9wa4.github.io/blog/2025-06-04-use-cmdbang-to-disable-lsp-formatting-on-save.html</guid>
  <pubDate>Wed, 04 Jun 2025 14:24:39 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Databricks AI/BI ダッシュボードの Git 連携の運用方法</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-05-21-databricks-dashboard-github-operation.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>Databricks のダッシュボードは Git 連携できます！</p>
<p><a href="https://qiita.com/taka_yayoi/items/af580c4bad7db4aebc38">GitにおけるDatabricks AI/BIダッシュボードのソース管理 #Databricks_AI_BI - Qiita</a></p>
<p>バックアップを取り安心したいので必ず導入しましょう。</p>
<p>Git 連携を用いた運用方法について検討したので記事として残します。</p>
</section>
<section id="databricks-の-git-連携機能とダッシュボードの相性" class="level2">
<h2 class="anchored" data-anchor-id="databricks-の-git-連携機能とダッシュボードの相性">2. Databricks の Git 連携機能とダッシュボードの相性</h2>
<p>Commit &amp; Push とブランチ切り替え以外の操作は結構厳しいです。</p>
<p>JSON形式でウィジェット配置やSQLを管理しているのでコンフリクトが起きた場合の解消が難しいです。</p>
<p>なのでそもそもコンフリクトの起きない運用をしておきたいです。</p>
</section>
<section id="databricks-の考えるベストプラクティス" class="level2">
<h2 class="anchored" data-anchor-id="databricks-の考えるベストプラクティス">3. Databricks の考えるベストプラクティス</h2>
<blockquote class="blockquote">
<p>自分の開発ブランチで作業するユーザーごとに、リモート Git リポジトリにマップされた個別の Databricks Git フォルダーを使用します 。</p>
</blockquote>
<p><a href="https://docs.databricks.com/aws/ja/repos/git-operations-with-repos#ベスト-プラクティス-git-フォルダーでの共同作業" class="uri">https://docs.databricks.com/aws/ja/repos/git-operations-with-repos#ベスト-プラクティス-git-フォルダーでの共同作業</a></p>
<p>そうは言うけれども実際は開発スキルを持たない方がダッシュボードを作成しますよね。</p>
<p>これを守るのは現実的ではないです。</p>
</section>
<section id="実際の運用" class="level2">
<h2 class="anchored" data-anchor-id="実際の運用">4. 実際の運用</h2>
<p>共有ワークスペース内に Git フォルダを作成して Git Flow で運用しています。</p>
<p>ワークスペースでは常時 develop ブランチ固定で時々 Commit &amp; Push したり main にマージしたりします。</p>
<p>main への直接の Push 禁止という企業も多いと思いますので、その観点でも Git Flow は運用しやすそうです。</p>
<p>これくらいのゆるさで気楽に今後も運用していきます。</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">%%{
    init: {
        'logLevel': 'debug',
        'theme': 'base',
        'themeVariables': {
            'commitLabelFontSize': '14px',
            'tagLabelFontSize': '12px'
        }
    }
}%%
gitGraph LR:
    checkout main
    commit
    branch develop order: 4
    checkout develop
    commit
    commit

    branch release-1 order: 2
    checkout release-1
    commit

    checkout main
    merge release-1 tag: "25.02"

    checkout develop
    commit
    commit

    branch feature/new-master-data order: 5
    checkout feature/new-master-data
    commit
    commit
    checkout develop
    merge feature/new-master-data
    commit

    branch release-2 order: 3
    checkout release-2
    commit

    checkout main
    merge release-2 tag: "25.05"

    checkout develop
    commit
    commit
    commit
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-data</category>
  <guid>https://i9wa4.github.io/blog/2025-05-21-databricks-dashboard-github-operation.html</guid>
  <pubDate>Wed, 21 May 2025 12:45:51 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>AWS Lambda でコンテナイメージを実行する with Terraform &amp; GitHub Actions</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-05-12-hands-on-lambda-ecr.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>AWS Lambda で ECR にあるコンテナイメージを実行するために必要な全てのリソースを Terraform で構築し、GitHub Actions でデプロイできるようにします。</p>
</section>
<section id="背景" class="level2">
<h2 class="anchored" data-anchor-id="背景">2. 背景</h2>
<p>以下のような記事を参考にしながら MCP クライアントと MCP サーバーを全て Lambda (&amp; ECR) で管理させようと考えています。</p>
<ul>
<li><a href="https://zenn.dev/georgia1/articles/214056407379b2">SlackからLambda上にあるMCPクライアントとMCPサーバー動かす</a></li>
<li><a href="https://qiita.com/kyamamoto9120/items/f1cda89ffc7cb5254f17">コンテナイメージを使用してAWS Lambda関数を作成する #Python - Qiita</a></li>
<li><a href="https://dev.classmethod.jp/articles/securing-mcp-tools-with-aws-lambda-integration/">AWS Cost Analysis MCP ServerのツールをLambda関数に移植してAWS Lambda MCP Server経由で実行する | DevelopersIO</a></li>
<li><a href="https://dev.classmethod.jp/articles/measure-container-image-lambda-coldstart/">爆速？！コンテナイメージからデプロイしたLambdaのコールドスタートについて検証してみた #reinvent | DevelopersIO</a></li>
</ul>
<p>まずは表題の通り動く Lambda を作成し CI/CD を整備することで以降に備えます。</p>
</section>
<section id="構成" class="level2">
<h2 class="anchored" data-anchor-id="構成">3. 構成</h2>
<p>とりあえず動くようになったので、ほぼ無説明で構成だけ載せます。</p>
<p><a href="https://github.com/i9wa4/terraform-mono-repo/tree/fe67b11fe6e7696325103fd997980f5cf8e94f1d" class="uri">https://github.com/i9wa4/terraform-mono-repo/tree/fe67b11fe6e7696325103fd997980f5cf8e94f1d</a></p>
<p>関係する部分は以下になっています。</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> tree <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-a</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-I</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">".git/|hands-on-import|hands-on-sfn|.terraform"</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-A</span></span>
<span id="cb1-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">.</span></span>
<span id="cb1-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> .github</span>
<span id="cb1-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span>   └── workflows</span>
<span id="cb1-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span>       └── hands-on-lambda-ecr-deploy.yml</span>
<span id="cb1-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> services</span>
<span id="cb1-7">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> hands-on-lambda-ecr</span>
<span id="cb1-8">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> app</span>
<span id="cb1-9">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span>   ├── app.py</span>
<span id="cb1-10">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span>   ├── Dockerfile</span>
<span id="cb1-11">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span>   └── requirements.txt</span>
<span id="cb1-12">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> README.md</span>
<span id="cb1-13">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> terraform</span>
<span id="cb1-14">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> .terraform.lock.hcl</span>
<span id="cb1-15">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> main.tf</span>
<span id="cb1-16">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> outputs.tf</span>
<span id="cb1-17">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> variables.tf</span>
<span id="cb1-18">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> versions.tf</span></code></pre></div>
<p>モノレポの練習で作ってみたリポジトリなのですが、整備はこれからという感じです。</p>
</section>
<section id="大変だった点" class="level2">
<h2 class="anchored" data-anchor-id="大変だった点">4. 大変だった点</h2>
<ul>
<li>ECR Image URI の取得周り
<ul>
<li>ECR タグを Immutable にしたせい</li>
</ul></li>
<li>GitHub Actions 内の OIDC 認証
<ul>
<li>初めてやると慣れてなくて手間取った</li>
</ul></li>
</ul>
</section>
<section id="課題" class="level2">
<h2 class="anchored" data-anchor-id="課題">5. 課題</h2>
<ul>
<li>デプロイだけ手動でできるが CI は追加できていない</li>
<li>main.tf でかすぎ</li>
<li>dev/prod 環境分離考慮してない</li>
<li>ローカルから Makefile でデプロイできるようにしてない</li>
</ul>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">6. おわりに</h2>
<p>今までで一番大変な Hello World でした。</p>
<p>整備は一旦後回しにして MCP 周りの実装をやっていきたいです。</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <guid>https://i9wa4.github.io/blog/2025-05-12-hands-on-lambda-ecr.html</guid>
  <pubDate>Sun, 11 May 2025 15:13:12 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Bash/Zsh でコマンドをエディタで編集する</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-05-10-bash-zsh-edit-and-execute-command.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>Bash/Zsh で入力中のコマンドの編集にエディタが使えるという便利機能の話です。名前がパッと出てこないのでメモ代わりに記事にしておきます。</p>
</section>
<section id="bash" class="level2">
<h2 class="anchored" data-anchor-id="bash">2. Bash</h2>
<p><code>C-x C-e</code> で <code>$VISUAL</code> で指定したエディタが開きます。</p>
<p><a href="https://qiita.com/oirik/items/1253a12d7f4b88c4ffe0">bash で入力中のコマンドをエディタで編集して実行するショートカットキー #Bash - Qiita</a></p>
</section>
<section id="zsh" class="level2">
<h2 class="anchored" data-anchor-id="zsh">3. Zsh</h2>
<p>Bash と同等の機能を実現させるには以下のように設定します。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/.zshrc</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="~/.zshrc" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">autoload</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-Uz</span> edit-command-line</span>
<span id="cb1-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">zle</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-N</span> edit-command-line</span>
<span id="cb1-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">bindkey</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'^x^e'</span> edit-command-line</span></code></pre></div>
</div>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">4. おわりに</h2>
<p><strong>edit-and-execute-command</strong> あるいは <strong>edit-command-line</strong> と呼ばれる機能であると覚えましょう！</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <guid>https://i9wa4.github.io/blog/2025-05-10-bash-zsh-edit-and-execute-command.html</guid>
  <pubDate>Sat, 10 May 2025 05:51:17 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>今更ながら Vim に EditorConfig を導入しました</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-05-06-editorconfig-vim.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>dotfiles で .editorconfig を置いたままにしていたのですが利用できていなかったので今回利用していくこととしました。</p>
</section>
<section id="導入手順" class="level2">
<h2 class="anchored" data-anchor-id="導入手順">2. 導入手順</h2>
<p>EditorConfig プラグインが Vim 本体にビルトインされているのでインストールは不要です。</p>
<pre class="plaintext"><code>:h editorconfig-install</code></pre>
<p>で説明されていますが vimrc に以下を追加すればよいです。</p>
<pre class="plaintext"><code>packadd! editorconfig</code></pre>
<p>また <code>~/.editorconfig</code> を以下のように作成しました。</p>
<p>設定可能な項目は</p>
<p><a href="https://github.com/editorconfig/editorconfig-vim">editorconfig/editorconfig-vim: EditorConfig plugin for Vim</a></p>
<p>に記載されています。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.editorconfig</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename=".editorconfig" style="background: #f1f3f5;"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># EditorConfig is awesome: https://EditorConfig.org</span></span>
<span id="cb3-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># top-most EditorConfig file</span></span>
<span id="cb3-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">root </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span></span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># https://github.com/editorconfig/editorconfig-vim</span></span>
<span id="cb3-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[*]</span></span>
<span id="cb3-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">charset </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> utf-8</span></span>
<span id="cb3-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">end_of_line </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> lf</span></span>
<span id="cb3-9"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">indent_size </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span></span>
<span id="cb3-10"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">indent_style </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> space</span></span>
<span id="cb3-11"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">insert_final_newline </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span></span>
<span id="cb3-12"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">max_line_length </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">80</span></span>
<span id="cb3-13"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">trim_trailing_whitespace </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">true</span></span>
<span id="cb3-14"></span>
<span id="cb3-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2 space indentation</span></span>
<span id="cb3-16"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[{*.{css,mmd,sh,tf,tftpl,tfvars,toml,ts,vim,yaml,zshenv,zshrc},vimrc}]</span></span>
<span id="cb3-17"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">indent_size </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb3-18"></span>
<span id="cb3-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Tab indentation (no size specified)</span></span>
<span id="cb3-20"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[{*.go,Makefile}]</span></span>
<span id="cb3-21"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">indent_style </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> tab</span></span>
<span id="cb3-22"></span>
<span id="cb3-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Windows</span></span>
<span id="cb3-24"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[{*.{bat,cmd}]</span></span>
<span id="cb3-25"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">end_of_line </span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> crlf</span></span></code></pre></div>
</div>
<p>最後に vimrc で FileType イベントで設定していた上記と重複している設定を削除しました。</p>
</section>
<section id="感想" class="level2">
<h2 class="anchored" data-anchor-id="感想">3. 感想</h2>
<p>この設定は VS Code 等の他のエディタでも使えるので育成のしがいがあります。</p>
<p>EditorConfig プラグインの help ファイルを見ると色々設定ができるっぽいのですが、あまり凝ったことはしなくていいかなと思っています。</p>
<p>設定項目を見回してみたのですが <code>max_line_length</code> の効き方があまり理解できていないので追々学んでいきます。</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-vim</category>
  <guid>https://i9wa4.github.io/blog/2025-05-06-editorconfig-vim.html</guid>
  <pubDate>Tue, 06 May 2025 14:06:23 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Python venv インストール・更新スクリプトの供養</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-05-06-python-venv.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>uv で venv 仮想環境をメンテナンスすることにしたためこれまで利用していた venv のインストール・更新スクリプトを供養します。</p>
</section>
<section id="スクリプト-makefile" class="level2">
<h2 class="anchored" data-anchor-id="スクリプト-makefile">2. スクリプト (Makefile)</h2>
<p>実際はこのように Makefile に書いていましたが、流石に見辛いのでシェルスクリプト版も載せます。</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode Makefile code-with-copy"><code class="sourceCode makefile"><span id="cb1-1"><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">python-venv:</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">  </span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## install/update Python venv (e.g. make python-venv VENV_PATH="${PY_VENV_MYENV}" REQUIREMENTS_PATH="${HOME}"/ghq/github.com/i9wa4/dotfiles/etc/requirements-venv-myenv.txt)</span></span>
<span id="cb1-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># https://dev.classmethod.jp/articles/change-venv-python-version/</span></span>
<span id="cb1-3">    . <span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">$(</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">MF_DOTFILES_DIR</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">)</span>/dot.zshenv \</span>
<span id="cb1-4">    &amp;&amp; if [ -d <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">$(</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">VENV_PATH</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> ]; then \</span>
<span id="cb1-5">      python -m venv <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">$(</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">VENV_PATH</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> --clear; \</span>
<span id="cb1-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> \</span>
<span id="cb1-7">      python -m venv <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">$(</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">VENV_PATH</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>; \</span>
<span id="cb1-8">    fi \</span>
<span id="cb1-9">    &amp;&amp; . <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">$(</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">VENV_PATH</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>/bin/activate \</span>
<span id="cb1-10">    &amp;&amp; python -m pip config --site set global.trusted-host <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pypi.org pypi.python.org files.pythonhosted.org"</span> \</span>
<span id="cb1-11">    &amp;&amp; python -m pip install --upgrade pip setuptools wheel \</span>
<span id="cb1-12">    &amp;&amp; [ -r <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">$(</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">REQUIREMENTS_PATH</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> ] &amp;&amp; python -m pip install --requirement <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">$(</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">REQUIREMENTS_PATH</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> \</span>
<span id="cb1-13">    &amp;&amp; python -m pip check \</span>
<span id="cb1-14">    &amp;&amp; python --version \</span>
<span id="cb1-15">    &amp;&amp; deactivate</span></code></pre></div>
</section>
<section id="スクリプト-シェルスクリプト" class="level2">
<h2 class="anchored" data-anchor-id="スクリプト-シェルスクリプト">3. スクリプト (シェルスクリプト)</h2>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#!/usr/bin/env bash</span></span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">VENV_PATH</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${HOME}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>/.venv</span>
<span id="cb2-4"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">REQUIREMENTS_PATH</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${HOME}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>/requirements.txt</span>
<span id="cb2-5"></span>
<span id="cb2-6"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${VENV_PATH}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb2-7">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> venv <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${VENV_PATH}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--clear</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-8"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span></span>
<span id="cb2-9">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> venv <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${VENV_PATH}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">;</span></span>
<span id="cb2-10"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb2-11"></span>
<span id="cb2-12"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">.</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${VENV_PATH}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>/bin/activate</span>
<span id="cb2-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> pip config <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--site</span> set global.trusted-host <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pypi.org pypi.python.org files.pythonhosted.org"</span></span>
<span id="cb2-14"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> pip install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--upgrade</span> pip setuptools wheel</span>
<span id="cb2-15"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-r</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${REQUIREMENTS_PATH}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> pip install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--requirement</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${REQUIREMENTS_PATH}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb2-16"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> pip check</span>
<span id="cb2-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span></span>
<span id="cb2-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">deactivate</span></span></code></pre></div>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-python</category>
  <guid>https://i9wa4.github.io/blog/2025-05-06-python-venv.html</guid>
  <pubDate>Tue, 06 May 2025 13:57:36 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Markdown ライクな Quarto でスライドを作成して GitHub Actions で HTML 出力する</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-05-06-quarto-slides.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>最近 AI にスライドを生成させたいという声をよく聞くようになりましたので、私の好きな Markdown ライクなツールである Quarto でスライドを作成する方法を紹介します。</p>
<p>Organization のプライベートリポジトリでも気軽に使えるように GitHub Pages として公開する手順ではなく GitHub Actions で HTML 出力する方法を紹介していきます。</p>
</section>
<section id="想定読者" class="level2">
<h2 class="anchored" data-anchor-id="想定読者">2. 想定読者</h2>
<ul>
<li>GitHub や GitHub Actions の操作説明がなくても問題ない方</li>
</ul>
</section>
<section id="quarto-とは" class="level2">
<h2 class="anchored" data-anchor-id="quarto-とは">3. Quarto とは</h2>
<p><a href="https://quarto.org/" class="uri">https://quarto.org/</a></p>
<blockquote class="blockquote">
<p>An open-source scientific and technical publishing system</p>
</blockquote>
<p>オープンソースの科学技術出版システムです。Pandoc をベースにしていて手軽でありつつも拡張性があり細かいところに手が届くという印象です。 上記リンクのページも Quarto で作成されていると聞くと表現の幅広さが分かると思います。</p>
<p>GitHub Pages でブログ・スライド・Wikiを公開することも非常に簡単にできます。私は個人ページを Quarto で作成しています。 GitHub Pages での公開方法が気になる方は以下の記事を参考にしてください。</p>
<p><a href="2025-08-25-publishing-github-pages-with-quarto.qmd">Markdown ライクな Quarto でブログやスライドを作って GitHub Pages で公開する</a></p>
</section>
<section id="この記事でやること" class="level2">
<h2 class="anchored" data-anchor-id="この記事でやること">4. この記事でやること</h2>
<ul>
<li>Quarto 向けリポジトリを作成する</li>
<li>Quarto (reveal.js) でスライドを作成する</li>
<li>GitHub Actions で HTML 出力する</li>
</ul>
</section>
<section id="この記事でやらないこと" class="level2">
<h2 class="anchored" data-anchor-id="この記事でやらないこと">5. この記事でやらないこと</h2>
<ul>
<li>作成物を GitHub Pages として公開する</li>
</ul>
</section>
<section id="quarto-でスライドを作成する" class="level2">
<h2 class="anchored" data-anchor-id="quarto-でスライドを作成する">6. Quarto でスライドを作成する</h2>
<p>では Quarto を使ってスライドを作成していきましょう！</p>
<section id="quarto-をインストールする" class="level3">
<h3 class="anchored" data-anchor-id="quarto-をインストールする">6.1. Quarto をインストールする</h3>
<p>Python 環境のある方は pip でインストールできます。</p>
<pre class="{sh}"><code>pip install quarto-cli</code></pre>
<p>公式からインストーラも提供されています。私は利用したことがないため詳細の説明は省きます。</p>
<p><a href="https://quarto.org/docs/get-started/" class="uri">https://quarto.org/docs/get-started/</a></p>
</section>
<section id="任意-vs-code-の-quarto-の拡張機能をインストールする" class="level3">
<h3 class="anchored" data-anchor-id="任意-vs-code-の-quarto-の拡張機能をインストールする">6.2. (任意) VS Code の Quarto の拡張機能をインストールする</h3>
<p><a href="https://marketplace.visualstudio.com/items?itemName=quarto.quarto" class="uri">https://marketplace.visualstudio.com/items?itemName=quarto.quarto</a></p>
<p>Quarto では .qmd という拡張子のファイルを使用します。VS Code の場合は Quarto 拡張機能をインストールすることで編集体験が向上しますので是非検討してみてください。 ここでは誰でも再現可能な手順の説明に終始するため VS Code の Quarto 拡張機能に関する説明は省きます。</p>
</section>
<section id="github-リポジトリを作成する" class="level3">
<h3 class="anchored" data-anchor-id="github-リポジトリを作成する">6.3. GitHub リポジトリを作成する</h3>
<p>空のリポジトリを作ったあと以下の構成を作っていきます。</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">./</span></span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> _quarto.yml</span>
<span id="cb2-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> .github/</span>
<span id="cb2-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│&nbsp;&nbsp;</span> └── workflows/</span>
<span id="cb2-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│&nbsp;&nbsp;</span>     └── deploy.yml</span>
<span id="cb2-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> .gitignore</span>
<span id="cb2-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> assets/</span>
<span id="cb2-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│&nbsp;&nbsp;</span> └── common/</span>
<span id="cb2-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│&nbsp;&nbsp;</span>     └── title-background.jpg</span>
<span id="cb2-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> custom.scss</span>
<span id="cb2-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> index.qmd</span>
<span id="cb2-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> slides/</span>
<span id="cb2-13">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> 2025-05-05-initial-slide.qmd</span></code></pre></div>
<p>以下で各ファイルの説明をしていくので真似て作成してみてください。</p>
<section id="quarto.yml" class="level4">
<h4 class="anchored" data-anchor-id="quarto.yml">6.3.1. <code>_quarto.yml</code></h4>
<p>プロジェクトの設定を記述しておくファイルです。</p>
<p><code>title-slide-attributes</code> でタイトルスライドの背景色や画像を指定できますが不要な方は削除してください。</p>
<p>気になる項目は公式ドキュメント</p>
<p><a href="https://quarto.org/" class="uri">https://quarto.org/</a></p>
<p>の検索欄から調べる、もしくは上記ページを管理しているリポジトリの DeepWiki</p>
<p><a href="https://deepwiki.com/quarto-dev/quarto-web" class="uri">https://deepwiki.com/quarto-dev/quarto-web</a></p>
<p>に質問するとほとんど全て解決できると思います。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>_quarto.yml</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="_quarto.yml" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">project</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">type</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> website</span></span>
<span id="cb3-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">output-dir</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_output"</span></span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">date-format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> iso</span></span>
<span id="cb3-6"></span>
<span id="cb3-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">website</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"quarto-slides"</span></span>
<span id="cb3-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">navbar</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb3-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">search</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb3-11"></span>
<span id="cb3-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-13"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">revealjs</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-14"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">code-copy</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb3-15"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scrollable</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb3-16"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">self-contained</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb3-17"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slide-level</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb3-18"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">slide-number</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb3-19"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> default</span></span>
<span id="cb3-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # - custom.scss</span></span>
<span id="cb3-22"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">width</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1920</span></span>
<span id="cb3-23"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">height</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1080</span></span>
<span id="cb3-24"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">title-slide-attributes</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb3-25"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data-background-color</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#000000"</span></span>
<span id="cb3-26"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data-background-image</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/assets/common/title-background.jpg"</span></span>
<span id="cb3-27"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data-background-size</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cover"</span></span></code></pre></div>
</div>
</section>
<section id="githubworkflowsdeploy.yml" class="level4">
<h4 class="anchored" data-anchor-id="githubworkflowsdeploy.yml">6.3.2. <code>.github/workflows/deploy.yml</code></h4>
<p>HTML 出力させる GitHub Actions ワークフロー設定ファイルの例です。</p>
<p>とりあえず下記で動くので、必要に応じて色々変更してください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.github/workflows/deploy.yml</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename=".github/workflows/deploy.yml" style="background: #f1f3f5;"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Build and Deploy Quarto Website</span></span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run-name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ${{ github.event_name }} on ${{ github.ref_name }} by @${{ github.actor }}</span></span>
<span id="cb4-3"></span>
<span id="cb4-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">on</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">workflow_dispatch</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">push</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">branches</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> main</span></span>
<span id="cb4-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pull_request</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">branches</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-11"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> main</span></span>
<span id="cb4-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">permissions</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{}</span></span>
<span id="cb4-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">concurrency</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-14"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ${{ github.workflow }}-${{ github.ref }}</span></span>
<span id="cb4-15"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cancel-in-progress</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb4-16"></span>
<span id="cb4-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">jobs</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-18"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">build-and-deploy</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-19"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Build and Deploy Quarto Slides</span></span>
<span id="cb4-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runs-on</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> ubuntu-24.04-arm</span></span>
<span id="cb4-21"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">timeout-minutes</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb4-22"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">permissions</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-23"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">contents</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> write</span></span>
<span id="cb4-24"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">steps</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-25"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Check out repository</span></span>
<span id="cb4-26"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">uses</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> actions/checkout@v4</span></span>
<span id="cb4-27"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-28"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fetch-depth</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb4-29"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Set up Quarto</span></span>
<span id="cb4-30"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">uses</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> quarto-dev/quarto-actions/setup@v2</span></span>
<span id="cb4-31"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # - name: (Optional) Set up Python</span></span>
<span id="cb4-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      #   uses: actions/setup-python@v5</span></span>
<span id="cb4-33"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      # - name: (Optional) Set up Python Libraries</span></span>
<span id="cb4-34"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      #   run: python3 -m pip install jupyter</span></span>
<span id="cb4-35"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Render Quarto Website</span></span>
<span id="cb4-36"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">        run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb4-37">          quarto render</span>
<span id="cb4-38"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Deploy to HTML branch</span></span>
<span id="cb4-39"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">uses</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> JamesIves/github-pages-deploy-action@v4</span></span>
<span id="cb4-40"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">with</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb4-41"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">folder</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> _output</span></span>
<span id="cb4-42"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">branch</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> html</span></span>
<span id="cb4-43"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">          </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">clean</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span></code></pre></div>
</div>
</section>
<section id="gitignore" class="level4">
<h4 class="anchored" data-anchor-id="gitignore">6.3.3. <code>.gitignore</code></h4>
<p>Quarto の生成物を無駄に GitHub に push したくないので作成しておきます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.gitignore</strong></pre>
</div>
<pre class="gitignore" data-filename=".gitignore"><code>/.quarto/
/_output/</code></pre>
</div>
</section>
<section id="assetscommontitle-background.jpg" class="level4">
<h4 class="anchored" data-anchor-id="assetscommontitle-background.jpg">6.3.4. <code>assets/common/title-background.jpg</code></h4>
<p>タイトルスライドの背景画像を指定するための画像ファイルです。なくても良いです。</p>
</section>
<section id="custom.scss" class="level4">
<h4 class="anchored" data-anchor-id="custom.scss">6.3.5. <code>custom.scss</code></h4>
<p>Quarto で作成するスライドの見た目をカスタマイズするためのファイルです。名前は任意です。</p>
<p>ここでは一旦不要ですが編集のコツを後述しますので所定のスライドテンプレートの反映に活用してください。</p>
</section>
<section id="index.qmd" class="level4">
<h4 class="anchored" data-anchor-id="index.qmd">6.3.6. <code>index.qmd</code></h4>
<p>Quarto のトップページを作成するためのファイルです。</p>
<p>リポジトリで管理するスライドが複数になったときにインデックスページとして役に立ってくれると思います。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>index.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb6" data-filename="index.qmd" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb6-2"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">title:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> "quarto-slides"</span></span>
<span id="cb6-3"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">listing:</span></span>
<span id="cb6-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  - id: "list-all"</span></span>
<span id="cb6-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    contents:</span></span>
<span id="cb6-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      - "slides"</span></span>
<span id="cb6-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    sort:</span></span>
<span id="cb6-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      - "date desc"</span></span>
<span id="cb6-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">      - "title"</span></span>
<span id="cb6-10"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">format:</span></span>
<span id="cb6-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">  html:</span></span>
<span id="cb6-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    self-contained: true</span></span>
<span id="cb6-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb6-14"></span>
<span id="cb6-15">::: {#list-all}</span>
<span id="cb6-16">:::</span></code></pre></div>
</div>
</section>
</section>
<section id="スライドを作成する" class="level3">
<h3 class="anchored" data-anchor-id="スライドを作成する">6.4. スライドを作成する</h3>
<p>よくある記法を記載しましたので参考にしてください。</p>
<p>h2 レベル <code>##</code> でタイトルのみのスライドを作成します。 h3 レベル <code>###</code> を区切りにスライドを分けていきます。</p>
<p>h3 レベル <code>###</code> が区切りになっているのは <code>_quarto.yml</code> の以下の設定値によるものです。</p>
<blockquote class="blockquote">
<p><code>slide-level: 3</code></p>
</blockquote>
<p>スライドを左右に分割することも多いと思いますが、以下のファイルの記述を真似ることで簡単に作成できます。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>slides/2025-05-05-initial-slide.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb7" data-filename="slides/2025-05-05-initial-slide.qmd" style="background: #f1f3f5;"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb7-2"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">title:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> スライドタイトル スライドタイトル スライドタイトル</span></span>
<span id="cb7-3"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">author:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> uma-chan</span></span>
<span id="cb7-4"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">date:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> 2025-05-05</span></span>
<span id="cb7-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## test</span></span>
<span id="cb7-8"></span>
<span id="cb7-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">### aaaa aaaaaaaaaaaaaaa aaaaaaaaaaaaaaa aaaaaaaaaaa</span></span>
<span id="cb7-10"></span>
<span id="cb7-11">:::: {.columns}</span>
<span id="cb7-12"></span>
<span id="cb7-13">::: {.column width="50%"}</span>
<span id="cb7-14"></span>
<span id="cb7-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">https://example.com</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">](https://example.com)</span></span>
<span id="cb7-16"></span>
<span id="cb7-17">https://example.com</span>
<span id="cb7-18"></span>
<span id="cb7-19">https://example.com</span>
<span id="cb7-20"></span>
<span id="cb7-21"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>bbbbbbbbbbbbbb</span>
<span id="cb7-22"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- </span>ccccccccccc</span>
<span id="cb7-23"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    1. </span>aaaaaa</span>
<span id="cb7-24"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    1. </span>bbbbbb</span>
<span id="cb7-25"></span>
<span id="cb7-26"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt; test test</span></span>
<span id="cb7-27"></span>
<span id="cb7-28"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`test`</span></span>
<span id="cb7-29"></span>
<span id="cb7-30"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt; ```{.yaml}</span></span>
<span id="cb7-31"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt; format:</span></span>
<span id="cb7-32"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt;   revealjs:</span></span>
<span id="cb7-33"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt;     # incremental: true</span></span>
<span id="cb7-34"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt;     # mainfont: "Noto Sans JP"</span></span>
<span id="cb7-35"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt;     slide-level: 3</span></span>
<span id="cb7-36"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt; ```</span></span>
<span id="cb7-37"></span>
<span id="cb7-38">:::</span>
<span id="cb7-39"></span>
<span id="cb7-40">::: {.column width="50%"}</span>
<span id="cb7-41"></span>
<span id="cb7-42"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt; test test</span></span>
<span id="cb7-43"></span>
<span id="cb7-44"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">`test`</span></span>
<span id="cb7-45"></span>
<span id="cb7-46"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt; ```{.py}</span></span>
<span id="cb7-47"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt; print("Hello, world!")</span></span>
<span id="cb7-48"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">&gt; ```</span></span>
<span id="cb7-49"></span>
<span id="cb7-50">:::</span>
<span id="cb7-51"></span>
<span id="cb7-52">::::</span>
<span id="cb7-53"></span>
<span id="cb7-54"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## test</span></span>
<span id="cb7-55"></span>
<span id="cb7-56"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">### aaaaaaaa</span></span>
<span id="cb7-57"></span>
<span id="cb7-58">:::: {.columns}</span>
<span id="cb7-59"></span>
<span id="cb7-60">::: {.column width="30%"}</span>
<span id="cb7-61"></span>
<span id="cb7-62"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> aaa <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> bbb <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> ccc <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb7-63"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">| ---</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">| ---</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">| ---</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb7-64"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> aaa <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> bbb <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> ccc <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb7-65"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> aaa <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> bbb <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> ccc <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb7-66"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> aaa <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> bbb <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> ccc <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb7-67"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> aaa <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> bbb <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> ccc <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb7-68"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> aaa <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> bbb <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> ccc <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb7-69"><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> aaa <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> bbb <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span> ccc <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb7-70"></span>
<span id="cb7-71">:::</span>
<span id="cb7-72"></span>
<span id="cb7-73">::: {.column width="70%"}</span>
<span id="cb7-74"></span>
<span id="cb7-75">画像を表示する場合はこのように記述します。</span>
<span id="cb7-76"></span>
<span id="cb7-77"><span class="al" style="color: #AD0000;
background-color: null;
font-style: inherit;">![](/assets/common/title-background.jpg)</span></span>
<span id="cb7-78"></span>
<span id="cb7-79">:::</span>
<span id="cb7-80"></span>
<span id="cb7-81">::::</span></code></pre></div>
</div>
</section>
</section>
<section id="手元でプレビューする" class="level2">
<h2 class="anchored" data-anchor-id="手元でプレビューする">7. 手元でプレビューする</h2>
<p>リポジトリルートで以下のコマンドを実行することで手元でプレビューできます。</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">quarto</span> preview</span></code></pre></div>
</section>
<section id="手元で-html-出力する" class="level2">
<h2 class="anchored" data-anchor-id="手元で-html-出力する">8. 手元で HTML 出力する</h2>
<p>手元で HTML 出力する場合は以下のコマンドを実行します。上記設定のままの場合、 <code>_output</code> ディレクトリ配下に HTML ファイルが格納されます。</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">quarto</span> render</span></code></pre></div>
</section>
<section id="github-actions-で-html-出力する" class="level2">
<h2 class="anchored" data-anchor-id="github-actions-で-html-出力する">9. GitHub Actions で HTML 出力する</h2>
<p>前段で作成した GitHub Actions を実行することで HTML 出力できます。</p>
<p>記載のままの場合以下の3イベントがトリガーとなり実行されます。</p>
<ol type="1">
<li>main ブランチへの push</li>
<li>main ブランチへの pull request のマージ</li>
<li>手動実行</li>
</ol>
<p>処理が成功すると <code>html</code>ブランチに HTML ファイルが格納されます。</p>
</section>
<section id="html-ファイルの取り扱い" class="level2">
<h2 class="anchored" data-anchor-id="html-ファイルの取り扱い">10. HTML ファイルの取り扱い</h2>
<p>reveal.js 形式の HTML ファイルとなります。</p>
<p>以下のいずれかの方法で取得できます。</p>
<ol type="1">
<li>手元で <code>quarto render</code> して HTML ファイルを生成する</li>
<li>ローカルリポジトリを <code>html</code> ブランチに切り替えて pull する</li>
<li>GitHub から直接ダウンロードする</li>
</ol>
<p>HTML ファイルを Web ブラウザで開くと以下のような表示になります。左下のハンバーガーメニューをクリックします。</p>
<p><img src="https://i9wa4.github.io/assets/2025-05-06-quarto-slides/01-quarto.png" class="img-fluid"></p>
<p>複数のモードが選択できます。PDF Export Mode を選択すると PDF 印刷できる状態になります。</p>
<p><img src="https://i9wa4.github.io/assets/2025-05-06-quarto-slides/02-quarto.png" class="img-fluid"></p>
<p>その他詳細は下記ページを参照してください。</p>
<p><a href="https://quarto.org/docs/presentations/revealjs/presenting.html" class="uri">https://quarto.org/docs/presentations/revealjs/presenting.html</a></p>
</section>
<section id="スライドのテンプレートを-scss-に反映させる" class="level2">
<h2 class="anchored" data-anchor-id="スライドのテンプレートを-scss-に反映させる">11. スライドのテンプレートを SCSS に反映させる</h2>
<p>スライドの配色などを SCSS で指定できます。</p>
<p>一度作成すると再利用できるのでやる気のある方は頑張ってみましょう。</p>
<p><code>_quarto.yml</code> のコメントアウトを外して <code>custom.scss</code> を編集していくことになります。</p>
<p>大本になるファイルが以下の SCSS ファイルです。</p>
<p><a href="https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/formats/revealjs/quarto.scss" class="uri">https://github.com/quarto-dev/quarto-cli/blob/main/src/resources/formats/revealjs/quarto.scss</a></p>
<p>基本的にはここに登場する変数の値のうちオーバーライドしたいものを <code>custom.scss</code> に記載していけばよいです。</p>
<p>不明点がある場合は先述しましたが DeepWiki が便利なので活用できますね。</p>
<p><a href="https://deepwiki.com/quarto-dev/quarto-cli" class="uri">https://deepwiki.com/quarto-dev/quarto-cli</a></p>
<p>DeepWiki でなくともよいですが AI にスライド内で利用したい色や書式を提示しつつ <code>quarto.scss</code> や以下の themes のファイルを読み込ませて作っていけば上手く作成できると思います。</p>
<p><a href="https://github.com/quarto-dev/quarto-cli/tree/main/src/resources/formats/revealjs/themes" class="uri">https://github.com/quarto-dev/quarto-cli/tree/main/src/resources/formats/revealjs/themes</a></p>
<p>コードブロックの配色など (<del>正直どうでもよくて</del>) 頭を使いたくない部分も今時の AI なら良い感じに作成してくれるのであまり苦労せず SCSS の編集をやっていけるでしょう。</p>
<p>一つ言及しておくとすると以下のように SCSS を記載することで h2 レベルのタイトルスライドの背景色等を変更できるはずです。</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode scss code-with-copy"><code class="sourceCode scss"><span id="cb10-1"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$anybgcolor</span>: <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">#000000</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb10-2"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$anyfgcolor</span>: <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">#ffffff</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb10-3"></span>
<span id="cb10-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">.title-slide</span> {</span>
<span id="cb10-5">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">background-color</span>: <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$anybgcolor</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">!important</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb10-6">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">color</span>: <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$anyfgcolor</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">!important</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb10-7"></span>
<span id="cb10-8">  h2 {</span>
<span id="cb10-9">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">color</span>: <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$anyfgcolor</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">!important</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span></span>
<span id="cb10-10">  }</span>
<span id="cb10-11">}</span></code></pre></div>
<p>基本的には SCSS の変数をオーバーライドしていく形で事足りるとは思います。</p>
</section>
<section id="おわりに" class="level2">
<h2 class="anchored" data-anchor-id="おわりに">12. おわりに</h2>
<p>ここまでリポジトリを整備できればあとはどんどん AI にスライドを生成してもらうだけですね！楽にスライドを量産していきましょう！</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-quarto</category>
  <guid>https://i9wa4.github.io/blog/2025-05-06-quarto-slides.html</guid>
  <pubDate>Tue, 06 May 2025 03:00:00 GMT</pubDate>
</item>
<item>
  <title>tmux と Zsh に Git リポジトリのステータスを表示する</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-05-04-tmux-zsh-git-status.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>tmux / Zsh / Vim を愛用してターミナルに引き籠っている者です。</p>
<p>リポジトリのステータスの表示先として元々 Zsh プロンプトを活用していましたが Vim 起動中やコマンド実行中でプロンプトが見えないときにどうなっているか分からない点が以前から気になっていました。</p>
<p>そこで今回はその点を解消できる tmux のステータスラインを活用してみることにしました。</p>
<p>tmux 上の表示内容が結構気に入ったので同様の表示を Zsh プロンプトで実現する方法もついでに記載します。</p>
</section>
<section id="対象読者" class="level2">
<h2 class="anchored" data-anchor-id="対象読者">2. 対象読者</h2>
<ul>
<li>tmux ユーザー</li>
<li>Zsh ユーザー</li>
</ul>
</section>
<section id="tmux-と-zsh-に表示させるリポジトリのステータスの説明" class="level2">
<h2 class="anchored" data-anchor-id="tmux-と-zsh-に表示させるリポジトリのステータスの説明">3. tmux と Zsh に表示させるリポジトリのステータスの説明</h2>
<p>分かる方はスキップしてください。</p>
<p>どのステータスを表示させたいかは人によって異なると思いますが、今回は後述する tmux のプラグインの表示内容に沿って以下の情報を表示させることとしました。</p>
<section id="ブランチ名" class="level3">
<h3 class="anchored" data-anchor-id="ブランチ名">3.1. ブランチ名</h3>
<p>説明不要の重要要素。</p>
</section>
<section id="untracked-files-ステージングされていない新規作成ファイル数" class="level3">
<h3 class="anchored" data-anchor-id="untracked-files-ステージングされていない新規作成ファイル数">3.2. [Untracked files] ステージングされていない新規作成ファイル数</h3>
<p><code>git status</code> で</p>
<blockquote class="blockquote">
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Untracked</span> files:</span></code></pre></div>
</blockquote>
<p>に表示されるファイル数です。</p>
<p>以下の実行例の場合は “1” です。</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> git status</span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">On</span> branch tmux-zsh-git-status</span>
<span id="cb2-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Changes</span> not staged for commit:</span>
<span id="cb2-4">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">use</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git add &lt;file&gt;..."</span> to update what will be committed<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-5">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">use</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git restore &lt;file&gt;..."</span> to discard changes in working directory<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-6">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">modified:</span>   ../package-lock.json</span>
<span id="cb2-7">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">modified:</span>   ../package.json</span>
<span id="cb2-8"></span>
<span id="cb2-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Untracked</span> files:</span>
<span id="cb2-10">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">use</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git add &lt;file&gt;..."</span> to include in what will be committed<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-11">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2025-05-04-tmux-zsh-git-status.md</span></span>
<span id="cb2-12"></span>
<span id="cb2-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">no</span> changes added to commit <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">use</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git add"</span> and/or <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"git commit -a"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span></code></pre></div>
</section>
<section id="unstaged-files-ステージングされていない変更のあるファイル数" class="level3">
<h3 class="anchored" data-anchor-id="unstaged-files-ステージングされていない変更のあるファイル数">3.3. [Unstaged files] ステージングされていない変更のあるファイル数</h3>
<p><code>git status</code> で</p>
<blockquote class="blockquote">
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Changes</span> not staged for commit:</span></code></pre></div>
</blockquote>
<p>に表示されるファイル数です。</p>
<p>他の確認方法としては以下の行数や</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> git diff <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--name-only</span></span>
<span id="cb4-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">package-lock.json</span></span>
<span id="cb4-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">package.json</span></span></code></pre></div>
<p>以下の <code>files changed</code> の表示を確認する方法もあります。</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> git diff <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--shortstat</span></span>
<span id="cb5-2"> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2</span> files changed, 5 insertions<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">+</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">,</span> 5 deletions<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span></code></pre></div>
</section>
<section id="inserted-lines-追加行数" class="level3">
<h3 class="anchored" data-anchor-id="inserted-lines-追加行数">3.4. [Inserted lines] 追加行数</h3>
<p>ステージングされていない変更のうち追加部分の行数です。</p>
<p>行数カウントは以下のように <code>--shortstat</code> オプションを使うと簡単にできます。</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> git diff <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--shortstat</span></span>
<span id="cb6-2"> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2</span> files changed, 5 insertions<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">+</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">,</span> 5 deletions<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span></code></pre></div>
</section>
<section id="deleted-lines-削除行数" class="level3">
<h3 class="anchored" data-anchor-id="deleted-lines-削除行数">3.5. [Deleted lines] 削除行数</h3>
<p>ステージングされていない変更のうち削除部分の行数です。</p>
<p>↑でも表示されていますね。</p>
</section>
</section>
<section id="tmux-のステータスラインにリポジトリのステータスを表示する" class="level2">
<h2 class="anchored" data-anchor-id="tmux-のステータスラインにリポジトリのステータスを表示する">4. tmux のステータスラインにリポジトリのステータスを表示する</h2>
<p>tmux プラグインを利用して tmux のステータスラインにリポジトリのステータスを表示させます。</p>
<section id="tpm-のインストール" class="level3">
<h3 class="anchored" data-anchor-id="tpm-のインストール">4.1. tpm のインストール</h3>
<p>まずは tmux プラグインマネージャー tpm をインストールします。</p>
<p><a href="https://github.com/tmux-plugins/tpm" class="uri">https://github.com/tmux-plugins/tpm</a></p>
<p>tmux の設定ファイルがない、もしくは設定ファイルを <code>~/.tmux.conf</code> に配置している方は以下のコマンドを実行してください。</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm</span></code></pre></div>
<p>私自身は tmux の設定ファイルを <code>$XDG_CONFIG_HOME/tmux/tmux.conf</code> に配置しています。その場合は <code>$XDG_CONFIG_HOME/tmux/plugins/tpm</code> にクローンし、以降の手順も適宜読み替えてください。</p>
<p>続いて <code>~/.tmux.conf</code> に以下のように記載します。 tpm を有効化させ、かつ tpm に tpm 自身を管理させる記述ですね。 <code>run</code> コマンドが <code>~/.tmux.conf</code> の最終行になるようにしてください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/.tmux.conf</strong></pre>
</div>
<div class="sourceCode" id="cb8" data-filename="~/.tmux.conf" style="background: #f1f3f5;"><pre class="sourceCode conf code-with-copy"><code class="sourceCode toml"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># List of plugins</span></span>
<span id="cb8-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">set</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-g</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">@</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">plugin</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">'tmux-plugins/tpm'</span></span>
<span id="cb8-3"></span>
<span id="cb8-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)</span></span>
<span id="cb8-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">run</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">'~/.tmux/plugins/tpm/tpm'</span></span></code></pre></div>
</div>
<p>ここまで記載できたら tmux を再起動します。</p>
</section>
<section id="tmux-simple-git-status-のインストール" class="level3">
<h3 class="anchored" data-anchor-id="tmux-simple-git-status-のインストール">4.2. tmux-simple-git-status のインストール</h3>
<p>リポジトリのステータスを表示させるための以下の tmux プラグインをインストールしていきます。</p>
<p><a href="https://github.com/kristijanhusak/tmux-simple-git-status" class="uri">https://github.com/kristijanhusak/tmux-simple-git-status</a></p>
<p>まずは <code>~/.tmux.conf</code> のプラグインリストに以下のように記載します。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/.tmux.conf</strong></pre>
</div>
<div class="sourceCode" id="cb9" data-filename="~/.tmux.conf" style="background: #f1f3f5;"><pre class="sourceCode conf code-with-copy"><code class="sourceCode toml"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># List of plugins</span></span>
<span id="cb9-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">set</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-g</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">@</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">plugin</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">'tmux-plugins/tpm'</span></span>
<span id="cb9-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">set</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-g</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">@</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">plugin</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">'kristijanhusak/tmux-simple-git-status'</span></span>
<span id="cb9-4"></span>
<span id="cb9-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)</span></span>
<span id="cb9-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">run</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">'~/.tmux/plugins/tpm/tpm'</span></span></code></pre></div>
</div>
<p>記載できたら <code>prefix-I</code> (私はデフォルト設定のままなので <code>Ctrl + b</code> –&gt; <code>I</code>) を押してプラグインをインストールします。<code>I</code> は大文字です。</p>
</section>
<section id="tmux.conf-の編集" class="level3">
<h3 class="anchored" data-anchor-id="tmux.conf-の編集">4.3. <code>~/.tmux.conf</code> の編集</h3>
<p>中央に記載した設定を書き入れます。 私は <code>status-right</code> 派ですので以下の設定をオススメします。 見切れることが気になる場合は <code>status-right-length</code> を調整してください。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/.tmux.conf</strong></pre>
</div>
<div class="sourceCode" id="cb10" data-filename="~/.tmux.conf" style="background: #f1f3f5;"><pre class="sourceCode conf code-with-copy"><code class="sourceCode toml"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># List of plugins</span></span>
<span id="cb10-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">set</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-g</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">@</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">plugin</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">'tmux-plugins/tpm'</span></span>
<span id="cb10-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">set</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-g</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">@</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">plugin</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">'kristijanhusak/tmux-simple-git-status'</span></span>
<span id="cb10-4"></span>
<span id="cb10-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reflect tmux-simple-git-status settings</span></span>
<span id="cb10-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">set-option</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-g</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">status-interval</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb10-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">set-option</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-g</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">status-right</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"#{simple_git_status}"</span></span>
<span id="cb10-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">set-option</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">-g</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">status-right-length</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span></span>
<span id="cb10-9"></span>
<span id="cb10-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)</span></span>
<span id="cb10-11"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">run</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">'~/.tmux/plugins/tpm/tpm'</span></span></code></pre></div>
</div>
<p>設定の反映は tmux の再起動か <code>prefix-I</code> です。</p>
</section>
<section id="tmux-への反映完了" class="level3">
<h3 class="anchored" data-anchor-id="tmux-への反映完了">4.4. tmux への反映完了</h3>
<p>このようにステータスライン右側にブランチ名とリポジトリのステータスが表示されるようになります。 最近ステータスラインは上側派になりました。</p>
<p><img src="https://i9wa4.github.io/assets/2025-05-04-tmux-zsh-git-status/tmux.png" class="img-fluid"></p>
</section>
</section>
<section id="zsh-プロンプトにリポジトリのステータスを表示する" class="level2">
<h2 class="anchored" data-anchor-id="zsh-プロンプトにリポジトリのステータスを表示する">5. Zsh プロンプトにリポジトリのステータスを表示する</h2>
<p>こちらは素直に <code>~/.zshrc</code> に記載していきます。</p>
<section id="zshrc-の編集" class="level3">
<h3 class="anchored" data-anchor-id="zshrc-の編集">5.1. <code>~/.zshrc</code> の編集</h3>
<p>おまけなので細かい説明は省略しますが、私は以下のように設定しています。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/.zshrc</strong></pre>
</div>
<div class="sourceCode" id="cb11" data-filename="~/.zshrc" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Git</span></span>
<span id="cb11-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">autoload</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-Uz</span> add-zsh-hook</span>
<span id="cb11-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">autoload</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-Uz</span> vcs_info</span>
<span id="cb11-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">setopt</span> prompt_subst</span>
<span id="cb11-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">zstyle</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">':vcs_info:*'</span> formats <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%F{#DAFFF9}%b%f %m%F{#696969}%8.8i%f"</span></span>
<span id="cb11-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">zstyle</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">':vcs_info:*'</span> actionformats <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'%F{red}%b|%a%f %m%F{#696969}%8.8i%f'</span></span>
<span id="cb11-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">zstyle</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">':vcs_info:git:*'</span> get-revision true</span>
<span id="cb11-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">zstyle</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">':vcs_info:git+set-message:*'</span> hooks <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb11-9">  simple-git-status</span>
<span id="cb11-10"></span>
<span id="cb11-11"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"> +vi-simple-git-status()</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span></span>
<span id="cb11-12">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">local</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">untracked</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> status <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--porcelain</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>/dev/null <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grep</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^??"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb11-13">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">local</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">unstaged</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> diff <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--name-only</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>/dev/null <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">wc</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-l</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tr</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">' '</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb11-14"></span>
<span id="cb11-15">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">local</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">shortstat</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> diff <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--shortstat</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>/dev/null<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb11-16">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">local</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">insertions</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>0</span>
<span id="cb11-17">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">local</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">deletions</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>0</span>
<span id="cb11-18">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${shortstat}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'([0-9]+) insertion'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb11-19">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">insertions</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${match</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb11-20">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb11-21">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${shortstat}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'([0-9]+) deletion'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb11-22">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">deletions</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${match</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb11-23">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb11-24"></span>
<span id="cb11-25">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-n</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${untracked}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">}</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb11-26">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${untracked}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-gt</span> 0 <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">};</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb11-27">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">hook_com</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span>misc<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]+=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%F{cyan}?</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${untracked}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">%f "</span></span>
<span id="cb11-28">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb11-29">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-n</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${unstaged}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">}</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb11-30">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">&amp;&amp;</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${unstaged}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-gt</span> 0 <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">};</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb11-31">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">hook_com</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span>misc<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]+=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%F{red}~</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${unstaged}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">%f "</span></span>
<span id="cb11-32">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb11-33">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${insertions}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-gt</span> 0 <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb11-34">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">hook_com</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span>misc<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]+=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%F{green}+</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${insertions}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">%f "</span></span>
<span id="cb11-35">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb11-36">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">[[</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${deletions}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-gt</span> 0 <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">]];</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb11-37">    <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">hook_com</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span>misc<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]+=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%F{red}-</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${deletions}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">%f "</span></span>
<span id="cb11-38">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb11-39"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">}</span></span>
<span id="cb11-40"></span>
<span id="cb11-41"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">_vcs_precmd()</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">vcs_info</span> }</span>
<span id="cb11-42"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">add-zsh-hook</span> precmd _vcs_precmd</span>
<span id="cb11-43"></span>
<span id="cb11-44"></span>
<span id="cb11-45"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Prompt</span></span>
<span id="cb11-46"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-n</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${SSH_CONNECTION}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">}</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb11-47">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">||</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-n</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${SSH_TTY}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">}</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb11-48">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">||</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">{</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-n</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${SSH_CLIENT}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">};</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">then</span></span>
<span id="cb11-49">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remote host</span></span>
<span id="cb11-50">  <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">PROMPT</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%K{#FFB6C1}%F{#000000}[%M]%f%k "</span></span>
<span id="cb11-51"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span></span>
<span id="cb11-52">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># local host</span></span>
<span id="cb11-53">  <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">PROMPT</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span></span>
<span id="cb11-54"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">fi</span></span>
<span id="cb11-55"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">_shell_type</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ps</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-o</span> comm <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$$</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tail</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-n</span> 1 <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sed</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-e</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s/.*\///g'</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb11-56"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">PROMPT</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${PROMPT}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">%F{#696969}%D{[%Y-%m-%d %H:%M:%S]} </span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">${_shell_type}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> %f%K{#198CAA}%F{black}[%~]%f%k "'${vcs_info_msg_0_}'"</span></span>
<span id="cb11-57"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">%F{#696969}$%f "</span></span></code></pre></div>
</div>
</section>
<section id="zsh-への反映完了" class="level3">
<h3 class="anchored" data-anchor-id="zsh-への反映完了">5.2. Zsh への反映完了</h3>
<p>以下のように tmux のステータスラインと同じ内容を表示できます。 色はカラーコードで指定できるので好きなように設定しましょう！</p>
<p><img src="https://i9wa4.github.io/assets/2025-05-04-tmux-zsh-git-status/tmux-zsh.png" class="img-fluid"></p>
</section>
</section>
<section id="おまけ" class="level2">
<h2 class="anchored" data-anchor-id="おまけ">6. おまけ</h2>
<p>私の <code>tmux.conf</code> と <code>.zshrc</code> の全体は以下です。 最近まで <code>tmux.conf</code> はほとんど設定してなかったんですが、今回プラグインを導入してみて tmux の使用感を良くすることにもある程度注目してみてもよいなと感じました。</p>
<p><a href="https://github.com/i9wa4/dotfiles/blob/8cadb966fea3499926a0d9bacebd4179c57d2326/dot.config/tmux/tmux.conf" class="uri">https://github.com/i9wa4/dotfiles/blob/8cadb966fea3499926a0d9bacebd4179c57d2326/dot.config/tmux/tmux.conf</a></p>
<p><a href="https://github.com/i9wa4/dotfiles/blob/5888691c07aea3a41cb44c0ec20500c8cb0c9ac2/dot.zshrc" class="uri">https://github.com/i9wa4/dotfiles/blob/5888691c07aea3a41cb44c0ec20500c8cb0c9ac2/dot.zshrc</a></p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-tmux</category>
  <guid>https://i9wa4.github.io/blog/2025-05-04-tmux-zsh-git-status.html</guid>
  <pubDate>Sun, 04 May 2025 03:00:00 GMT</pubDate>
</item>
<item>
  <title>Databricks MCP Server を Service Principal 認証対応させた</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-04-29-mcp-databricks-server-service-principal.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p><a href="https://github.com/RafaelCartenet/mcp-databricks-server" class="uri">https://github.com/RafaelCartenet/mcp-databricks-server</a></p>
<p>上記の Databricks MCP Server を Service Principal 対応させたものを以下に公開しました。</p>
<p><a href="https://github.com/i9wa4/mcp-databricks-server/" class="uri">https://github.com/i9wa4/mcp-databricks-server/</a></p>
<p>存在意義と利用方法について説明します。</p>
</section>
<section id="service-principal-とは" class="level2">
<h2 class="anchored" data-anchor-id="service-principal-とは">2. Service Principal とは</h2>
<p><a href="https://docs.databricks.com/gcp/ja/admin/users-groups/service-principals" class="uri">https://docs.databricks.com/gcp/ja/admin/users-groups/service-principals</a></p>
<blockquote class="blockquote">
<p>サービスプリンシパルは、自動化とプログラムによるアクセス用に設計された Databricks の特殊な ID です。 サービスプリンシパル は、自動化されたツールとスクリプトに API のみのアクセスを Databricks リソースに付与し、users アカウントを使用するよりも優れたセキュリティを提供します。</p>
</blockquote>
<p>一言でまとめると人間に紐付かない ID なので適切な権限管理ができます！</p>
</section>
<section id="存在意義" class="level2">
<h2 class="anchored" data-anchor-id="存在意義">3. 存在意義</h2>
<p>Databricks MCP Server を含む AI エージェントを社内展開しようと思っています。</p>
<p>ただ、Databricks MCP Server に必要な Token として私のアカウントで作成する Personal Access Token を使うのは権限が強すぎるのとクエリ履歴管理上良くないため Service Principal を使うようにしたかったのです。</p>
</section>
<section id="利用方法" class="level2">
<h2 class="anchored" data-anchor-id="利用方法">4. 利用方法</h2>
<p><a href="https://github.com/i9wa4/mcp-databricks-server/" class="uri">https://github.com/i9wa4/mcp-databricks-server/</a></p>
<p>こちらの README に記載していますが、fork 元と異なる点は環境変数として下の3つを読み込める状態にすることです。</p>
<p>ちなみに Service Principal 認証の場合は <code>DATABRICKS_TOKEN</code> は不要です。</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">DATABRICKS_HOST</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your-databricks-instance.cloud.databricks.com"</span></span>
<span id="cb1-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">DATABRICKS_TOKEN</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your-databricks-access-token"</span></span>
<span id="cb1-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">DATABRICKS_SQL_WAREHOUSE_ID</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your-sql-warehouse-id"</span></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for OAuth authentication</span></span>
<span id="cb1-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">DATABRICKS_CLIENT_ID</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your-client-id"</span></span>
<span id="cb1-6"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">DATABRICKS_CLIENT_SECRET</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your-client-secret"</span></span>
<span id="cb1-7"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">DATABRICKS_AUTH_TYPE</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"oauth"</span></span></code></pre></div>
<p><code>DATABRICKS_CLIENT_ID</code> と <code>DATABRICKS_CLIENT_SECRET</code> の作成方法は以下のドキュメントを参考にしてください。</p>
<p><a href="https://docs.databricks.com/aws/ja/dev-tools/auth/oauth-m2m" class="uri">https://docs.databricks.com/aws/ja/dev-tools/auth/oauth-m2m</a></p>
</section>
<section id="おまけ実装上の工夫" class="level2">
<h2 class="anchored" data-anchor-id="おまけ実装上の工夫">5. おまけ：実装上の工夫</h2>
<p>手元で Formatter を効かせてしまった都合で fork 元に Pull Request を出すのはちょっと難しくなってしまったのですが、それでも差分をできるだけ小さくしておきました。</p>
<p>ヘッダ作成に必要なトークン取得部分を同期関数にして、その中で OAuth or PAT という形で分岐させる構成が結構良い感じに書けたのではないかと思います。 OAuth を優先してる都合でここは非同期にはできないですよね。</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-ai</category>
  <category>tech-data</category>
  <guid>https://i9wa4.github.io/blog/2025-04-29-mcp-databricks-server-service-principal.html</guid>
  <pubDate>Tue, 29 Apr 2025 03:00:00 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>lefthook 設定の供養</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-04-20-lefthook.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>GitHub Profile 用のリポジトリで lefthook を活用していましたが、不要になり削除しようと思うのでここに知見を残します。</p>
</section>
<section id="lefthook-とは" class="level2">
<h2 class="anchored" data-anchor-id="lefthook-とは">2. lefthook とは</h2>
<p><a href="https://github.com/evilmartians/lefthook">evilmartians/lefthook: Fast and powerful Git hooks manager for any type of projects.</a></p>
<p>lefthook は Git hooks の設定管理のツールです。</p>
<p>使用方法は上記リポジトリの README を参照するとよいです。</p>
</section>
<section id="lefthook.yml" class="level2">
<h2 class="anchored" data-anchor-id="lefthook.yml">3. lefthook.yml</h2>
<p>設定ファイルは以下のように記述していました。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>lefthook.yml</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="lefthook.yml" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># EXAMPLE USAGE:</span></span>
<span id="cb1-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   Refer for explanation to following link:</span></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   https://github.com/evilmartians/lefthook/blob/master/docs/configuration.md</span></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pre-push:</span></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   commands:</span></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     packages-audit:</span></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       tags: frontend security</span></span>
<span id="cb1-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       run: yarn audit</span></span>
<span id="cb1-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     gems-audit:</span></span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       tags: backend security</span></span>
<span id="cb1-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       run: bundle audit</span></span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#</span></span>
<span id="cb1-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pre-commit:</span></span>
<span id="cb1-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   parallel: true</span></span>
<span id="cb1-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   commands:</span></span>
<span id="cb1-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     eslint:</span></span>
<span id="cb1-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       glob: "*.{js,ts,jsx,tsx}"</span></span>
<span id="cb1-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       run: yarn eslint {staged_files}</span></span>
<span id="cb1-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     rubocop:</span></span>
<span id="cb1-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       tags: backend style</span></span>
<span id="cb1-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       glob: "*.rb"</span></span>
<span id="cb1-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       exclude: '(^|/)(application|routes)\.rb$'</span></span>
<span id="cb1-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       run: bundle exec rubocop --force-exclusion {all_files}</span></span>
<span id="cb1-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     govet:</span></span>
<span id="cb1-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       tags: backend style</span></span>
<span id="cb1-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       files: git ls-files -m</span></span>
<span id="cb1-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       glob: "*.go"</span></span>
<span id="cb1-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       run: go vet {files}</span></span>
<span id="cb1-31"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   scripts:</span></span>
<span id="cb1-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     "hello.js":</span></span>
<span id="cb1-33"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       runner: node</span></span>
<span id="cb1-34"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#     "any.go":</span></span>
<span id="cb1-35"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#       runner: go run</span></span>
<span id="cb1-36"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">post-commit</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-37"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">piped</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb1-38"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">commands</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-39"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">01-quarto-render</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-40"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">priority</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb1-41"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glob</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb1-42"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"index.qmd"</span></span>
<span id="cb1-43"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stage_fixed</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb1-44"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">      run</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb1-45">        set -e</span>
<span id="cb1-46">        . "${PY_VENV_MYENV}"/bin/activate</span>
<span id="cb1-47">        quarto render</span>
<span id="cb1-48">        cp ./_site/README.md .</span>
<span id="cb1-49">        git add ./README.md</span>
<span id="cb1-50">        git commit -m "[lefthook] rendered index.qmd in README.md" || exit 0</span></code></pre></div>
</div>
<section id="処理概要説明" class="level3">
<h3 class="anchored" data-anchor-id="処理概要説明">3.1. 処理概要説明</h3>
<p>Quarto のレンダリングを実施させて、レンダリング結果から README.md を抜き出してコミットさせてます。</p>
</section>
<section id="公式ドキュメントに書かれていないコツ" class="level3">
<h3 class="anchored" data-anchor-id="公式ドキュメントに書かれていないコツ">3.2. 公式ドキュメントに書かれていないコツ</h3>
<p>処理実行順序の設定については以下のように決まっているようです。結構大事なことがソースコードのコメントに書かれてますね。</p>
<p>priority を設定したくないケースもあると思いますので、その際の挙動ということで知っておいても損はないかと思います。</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>internal/lefthook/runner/runner.go</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="internal/lefthook/runner/runner.go" style="background: #f1f3f5;"><pre class="sourceCode go code-with-copy"><code class="sourceCode go"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// sortByPriority sorts the tags by preceding numbers if they occur and special priority if it is set.</span></span>
<span id="cb2-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// If the names starts with letter the command name will be sorted alphabetically.</span></span>
<span id="cb2-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">// If there's a `priority` field defined for a command or script it will be used instead of alphanumeric sorting.</span></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">//</span></span>
<span id="cb2-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">//  []string{"1_command", "10command", "3 command", "command5"} // -&gt; 1_command, 3 command, 10command, command5</span></span></code></pre></div>
</div>
<p><a href="https://github.com/evilmartians/lefthook/blob/38390de0efee2627ccaaa562a823945218be3604/internal/lefthook/runner/runner.go#L637-L641" class="uri">https://github.com/evilmartians/lefthook/blob/38390de0efee2627ccaaa562a823945218be3604/internal/lefthook/runner/runner.go#L637-L641</a></p>


</section>
</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <guid>https://i9wa4.github.io/blog/2025-04-20-lefthook.html</guid>
  <pubDate>Sun, 20 Apr 2025 10:47:21 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Python でありがちな本体バージョンとライブラリバージョンの不整合の例</title>
  <dc:creator>uma-chan </dc:creator>
  <link>https://i9wa4.github.io/blog/2025-04-16-issue-with-python-libraries.html</link>
  <description><![CDATA[ 





<section id="はじめに" class="level2">
<h2 class="anchored" data-anchor-id="はじめに">1. はじめに</h2>
<p>ライブラリのバージョンを固定した上で最新のバージョンの Python を使おうとすると色々とエラーが発生しがちです。</p>
<p>直近遭遇したエラーを記録に残しておきます。</p>
</section>
<section id="背景" class="level2">
<h2 class="anchored" data-anchor-id="背景">2. 背景</h2>
<p>dbt-databricks==1.7.17 のインストールを試みました。</p>
<p>本来は最新バージョンをインストールすべきで、執筆時点では 1.10.0 です。 このコマンドを知らなかったのでメモ代わりに残しておきます。</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> pip index versions dbt-databricks</span>
<span id="cb1-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">WARNING:</span> pip index is currently an experimental command. It may be removed/changed in a future release without prior warning.</span>
<span id="cb1-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">dbt-databricks</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">1.10.0</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb1-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Available</span> versions: 1.10.0, 1.9.7, 1.9.6, 1.9.5, 1.9.4, 1.9.2, 1.9.1, 1.9.0, 1.8.7, 1.8.6, 1.8.5, 1.8.4, 1.8.3, 1.8.2, 1.8.1, 1.8.0, 1.7.17, 1.7.16, 1.7.15, 1.7.14, 1.7.13, 1.7.11, 1.7.10, 1.7.9, 1.7.8, 1.7.7, 1.7.3, 1.7.2, 1.7.1, 1.7.0, 1.6.9, 1.6.8, 1.6.7, 1.6.6, 1.6.5, 1.6.4, 1.6.3, 1.6.2, 1.6.1, 1.6.0, 1.5.7, 1.5.6, 1.5.5, 1.5.4, 1.5.3, 1.5.2, 1.5.1, 1.5.0, 1.4.3, 1.4.2, 1.4.1, 1.4.0, 1.3.2, 1.3.1, 1.3.0, 1.2.5, 1.2.4, 1.2.3, 1.2.2, 1.2.1, 1.2.0, 1.1.7, 1.1.6, 1.1.5, 1.1.4, 1.1.3, 1.1.2, 1.1.1, 1.1.0, 1.0.3, 1.0.2, 1.0.1, 1.0.0, 0.21.1</span></code></pre></div>
<p>以下では Python 3.13 と 3.12 の両方で試してみます。</p>
</section>
<section id="python-3.13.3-との相性" class="level2">
<h2 class="anchored" data-anchor-id="python-3.13.3-との相性">3. Python 3.13.3 との相性</h2>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
3.1. details エラーログ詳細
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span></span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Python</span> 3.13.3</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> venv my-venv-3.13.3</span>
<span id="cb2-5"></span>
<span id="cb2-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> source my-venv-3.13.3/bin/activate</span>
<span id="cb2-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">my-venv-3.13.3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> pip install dbt-databricks==1.7.17</span>
<span id="cb2-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> dbt-databricks==1.7.17</span>
<span id="cb2-10">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_databricks-1.7.17-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5.6</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> dbt-spark~=1.7.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-12">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_spark-1.7.1-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5.3</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-14">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached databricks_sql_connector-2.9.6-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.3</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-15"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> databricks-sdk==0.17.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-16">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached databricks_sdk-0.17.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">34</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> keyring<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=23.13.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-18">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached keyring-25.6.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">20</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-19"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pandas<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.2.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-20">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pandas-2.1.4.tar.gz <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.3</span> MB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-21">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Installing</span> build dependencies ... done</span>
<span id="cb2-22">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Getting</span> requirements to build wheel ... done</span>
<span id="cb2-23">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Preparing</span> metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyproject.toml</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">...</span> error</span>
<span id="cb2-24">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">error:</span> subprocess-exited-with-error</span>
<span id="cb2-25"></span>
<span id="cb2-26">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">×</span> Preparing metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyproject.toml</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">did</span> not run successfully.</span>
<span id="cb2-27">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span> exit code: 1</span>
<span id="cb2-28">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">╰─</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> [115 lines of output]</span>
<span id="cb2-29">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">+</span> meson setup /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88 /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/.mesonpy-iz9fcfer/build <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-Dbuildtype</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>release <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-Db_ndebug</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>if-release <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-Db_vscrt</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>md <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--vsenv</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--native-file</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>/private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/.mesonpy-iz9fcfer/build/meson-python-native-file.ini</span>
<span id="cb2-30">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">The</span> Meson build system</span>
<span id="cb2-31">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Version:</span> 1.2.1</span>
<span id="cb2-32">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Source</span> dir: /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88</span>
<span id="cb2-33">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Build</span> dir: /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/.mesonpy-iz9fcfer/build</span>
<span id="cb2-34">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Build</span> type: native build</span>
<span id="cb2-35">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Project</span> name: pandas</span>
<span id="cb2-36">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Project</span> version: 2.1.4</span>
<span id="cb2-37">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">C</span> compiler for the host machine: cc <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">clang</span> 17.0.0 <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Apple clang version 17.0.0 (clang-1700.0.13.3)"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-38">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">C</span> linker for the host machine: cc ld64 1167.4.1</span>
<span id="cb2-39">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">C++</span> compiler for the host machine: c++ <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">clang</span> 17.0.0 <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Apple clang version 17.0.0 (clang-1700.0.13.3)"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-40">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">C++</span> linker for the host machine: c++ ld64 1167.4.1</span>
<span id="cb2-41">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Cython</span> compiler for the host machine: cython <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">cython</span> 0.29.37<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-42">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> machine cpu family: aarch64</span>
<span id="cb2-43">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> machine cpu: aarch64</span>
<span id="cb2-44">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Program</span> python found: YES <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">/Users/uma-chan/.venv/my-venv-3.13.3/bin/python</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-45">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Did</span> not find pkg-config by name <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'pkg-config'</span></span>
<span id="cb2-46">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Found</span> Pkg-config: NO</span>
<span id="cb2-47">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Run-time</span> dependency python found: YES 3.13</span>
<span id="cb2-48">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Build</span> targets in project: 53</span>
<span id="cb2-49"></span>
<span id="cb2-50">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pandas</span> 2.1.4</span>
<span id="cb2-51"></span>
<span id="cb2-52">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> defined options</span>
<span id="cb2-53">          <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Native</span> files: /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/.mesonpy-iz9fcfer/build/meson-python-native-file.ini</span>
<span id="cb2-54">          <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">buildtype</span>   : release</span>
<span id="cb2-55">          <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">vsenv</span>       : True</span>
<span id="cb2-56">          <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">b_ndebug</span>    : if-release</span>
<span id="cb2-57">          <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">b_vscrt</span>     : md</span>
<span id="cb2-58"></span>
<span id="cb2-59">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Found</span> ninja-1.12.1 at /opt/homebrew/bin/ninja</span>
<span id="cb2-60"></span>
<span id="cb2-61">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Visual</span> Studio environment is needed to run Ninja. It is recommended to use Meson wrapper:</span>
<span id="cb2-62">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">/private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-build-env-i26gzs0z/overlay/bin/meson</span> compile <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-C</span> .</span>
<span id="cb2-63">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">+</span> /opt/homebrew/bin/ninja</span>
<span id="cb2-64">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[1/151]</span> Generating pandas/_libs/index_class_helper_pxi with a custom command</span>
<span id="cb2-65">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[2/151]</span> Generating pandas/_libs/hashtable_class_helper_pxi with a custom command</span>
<span id="cb2-66">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[3/151]</span> Generating pandas/_libs/algos_common_helper_pxi with a custom command</span>
<span id="cb2-67">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[4/151]</span> Generating pandas/_libs/algos_take_helper_pxi with a custom command</span>
<span id="cb2-68">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[5/151]</span> Generating pandas/_libs/intervaltree_helper_pxi with a custom command</span>
<span id="cb2-69">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[6/151]</span> Generating pandas/_libs/hashtable_func_helper_pxi with a custom command</span>
<span id="cb2-70">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[7/151]</span> Generating pandas/_libs/khash_primitive_helper_pxi with a custom command</span>
<span id="cb2-71">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[8/151]</span> Generating pandas/_libs/sparse_op_helper_pxi with a custom command</span>
<span id="cb2-72">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[9/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/base.pyx</span>
<span id="cb2-73">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[10/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/ccalendar.pyx</span>
<span id="cb2-74">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[11/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/dtypes.pyx</span>
<span id="cb2-75">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[12/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/np_datetime.pyx</span>
<span id="cb2-76">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[13/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/nattype.pyx</span>
<span id="cb2-77">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[14/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/conversion.pyx</span>
<span id="cb2-78">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[15/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/strptime.pyx</span>
<span id="cb2-79">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[16/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/fields.pyx</span>
<span id="cb2-80">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[17/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/parsing.pyx</span>
<span id="cb2-81">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[18/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/offsets.pyx</span>
<span id="cb2-82">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[19/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/timezones.pyx</span>
<span id="cb2-83">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[20/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/timedeltas.pyx</span>
<span id="cb2-84">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[21/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/period.pyx</span>
<span id="cb2-85">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[22/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/vectorized.pyx</span>
<span id="cb2-86">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[23/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/tzconversion.pyx</span>
<span id="cb2-87">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[24/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/indexing.pyx</span>
<span id="cb2-88">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[25/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/arrays.pyx</span>
<span id="cb2-89">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[26/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslibs/timestamps.pyx</span>
<span id="cb2-90">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[27/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/missing.pyx</span>
<span id="cb2-91">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[28/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/hashing.pyx</span>
<span id="cb2-92">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[29/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/ops_dispatch.pyx</span>
<span id="cb2-93">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[30/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/properties.pyx</span>
<span id="cb2-94">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[31/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/ops.pyx</span>
<span id="cb2-95">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[32/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/internals.pyx</span>
<span id="cb2-96">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[33/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/byteswap.pyx</span>
<span id="cb2-97">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[34/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/parsers.pyx</span>
<span id="cb2-98">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[35/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/index.pyx</span>
<span id="cb2-99">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[36/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/sas.pyx</span>
<span id="cb2-100">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[37/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/lib.pyx</span>
<span id="cb2-101">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[38/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/reshape.pyx</span>
<span id="cb2-102">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[39/151]</span> Compiling C object pandas/_libs/tslibs/base.cpython-313-darwin.so.p/meson-generated_pandas__libs_tslibs_base.pyx.c.o</span>
<span id="cb2-103">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">FAILED:</span> pandas/_libs/tslibs/base.cpython-313-darwin.so.p/meson-generated_pandas__libs_tslibs_base.pyx.c.o</span>
<span id="cb2-104">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cc</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-Ipandas</span>/_libs/tslibs/base.cpython-313-darwin.so.p <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-Ipandas</span>/_libs/tslibs <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-I..</span>/../pandas/_libs/tslibs <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-I..</span>/../../../pip-build-env-i26gzs0z/overlay/lib/python3.13/site-packages/numpy/core/include <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-I..</span>/../pandas/_libs/include <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-I</span>/Users/uma-chan/.pyenv/versions/3.13.3/include/python3.13 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-fvisibility</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>hidden <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-fcolor-diagnostics</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-DNDEBUG</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-w</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-std</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>c99 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-O3</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-DNPY_NO_DEPRECATED_API</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>0 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-DNPY_TARGET_VERSION</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>NPY_1_21_API_VERSION <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-MD</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-MQ</span> pandas/_libs/tslibs/base.cpython-313-darwin.so.p/meson-generated_pandas__libs_tslibs_base.pyx.c.o <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-MF</span> pandas/_libs/tslibs/base.cpython-313-darwin.so.p/meson-generated_pandas__libs_tslibs_base.pyx.c.o.d <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-o</span> pandas/_libs/tslibs/base.cpython-313-darwin.so.p/meson-generated_pandas__libs_tslibs_base.pyx.c.o <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> pandas/_libs/tslibs/base.cpython-313-darwin.so.p/pandas/_libs/tslibs/base.pyx.c</span>
<span id="cb2-105">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pandas/_libs/tslibs/base.cpython-313-darwin.so.p/pandas/_libs/tslibs/base.pyx.c:5399:70:</span> error: too few arguments to function call, expected 6, have 5</span>
<span id="cb2-106">       <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5397</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                 <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">int</span> ret = _PyLong_AsByteArray<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PyLongObject</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">v,</span></span>
<span id="cb2-107">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                           <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb2-108">       <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5398</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                                               <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">bytes,</span> sizeof<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">val</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-109">       <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5399</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                                               <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">is_little,</span> !is_unsigned<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">);</span></span>
<span id="cb2-110">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                                                                      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">^</span></span>
<span id="cb2-111">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">/Users/uma-chan/.pyenv/versions/3.13.3/include/python3.13/cpython/longobject.h:111:17:</span> note: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_PyLong_AsByteArray'</span> declared here</span>
<span id="cb2-112">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">111</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PyAPI_FUNC</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">int</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">_PyLong_AsByteArray</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PyLongObject*</span> v,</span>
<span id="cb2-113">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                 <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">^</span>                   ~~~~~~~~~~~~~~~~</span>
<span id="cb2-114">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">112</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>     <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">unsigned</span> char<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span> bytes, size_t n,</span>
<span id="cb2-115">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>     <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb2-116">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">113</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>     <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">int</span> little_endian, int is_signed, int with_exceptions<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">);</span></span>
<span id="cb2-117">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>     <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb2-118">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pandas/_libs/tslibs/base.cpython-313-darwin.so.p/pandas/_libs/tslibs/base.pyx.c:5633:70:</span> error: too few arguments to function call, expected 6, have 5</span>
<span id="cb2-119">       <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5631</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                 <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">int</span> ret = _PyLong_AsByteArray<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PyLongObject</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">v,</span></span>
<span id="cb2-120">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                           <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb2-121">       <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5632</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                                               <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">bytes,</span> sizeof<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">val</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-122">       <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5633</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                                               <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">is_little,</span> !is_unsigned<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">);</span></span>
<span id="cb2-123">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                                                                      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">^</span></span>
<span id="cb2-124">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">/Users/uma-chan/.pyenv/versions/3.13.3/include/python3.13/cpython/longobject.h:111:17:</span> note: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_PyLong_AsByteArray'</span> declared here</span>
<span id="cb2-125">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">111</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PyAPI_FUNC</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">int</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">_PyLong_AsByteArray</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PyLongObject*</span> v,</span>
<span id="cb2-126">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                 <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">^</span>                   ~~~~~~~~~~~~~~~~</span>
<span id="cb2-127">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">112</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>     <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">unsigned</span> char<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span> bytes, size_t n,</span>
<span id="cb2-128">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>     <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb2-129">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">113</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>     <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">int</span> little_endian, int is_signed, int with_exceptions<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">);</span></span>
<span id="cb2-130">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>     <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb2-131">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2</span> errors generated.</span>
<span id="cb2-132">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[40/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/testing.pyx</span>
<span id="cb2-133">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[41/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/tslib.pyx</span>
<span id="cb2-134">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[42/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/interval.pyx</span>
<span id="cb2-135">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[43/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/writers.pyx</span>
<span id="cb2-136">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[44/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/window/indexers.pyx</span>
<span id="cb2-137">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[45/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/window/aggregations.pyx</span>
<span id="cb2-138">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[46/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/algos.pyx</span>
<span id="cb2-139">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[47/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/hashtable.pyx</span>
<span id="cb2-140">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[48/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/sparse.pyx</span>
<span id="cb2-141">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[49/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/join.pyx</span>
<span id="cb2-142">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[50/151]</span> Compiling Cython source /private/var/folders/xc/_1gjnwkd25j8hynw16xskg3r0000gn/T/pip-install-glb02n1x/pandas_d6eab0be3ccb474ba209bf6b5865cf88/pandas/_libs/groupby.pyx</span>
<span id="cb2-143">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ninja:</span> build stopped: subcommand failed.</span>
<span id="cb2-144">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[end</span> of output]</span>
<span id="cb2-145"></span>
<span id="cb2-146">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">note:</span> This error originates from a subprocess, and is likely not a problem with pip.</span>
<span id="cb2-147"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">error:</span> metadata-generation-failed</span>
<span id="cb2-148"></span>
<span id="cb2-149"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">×</span> Encountered error while generating package metadata.</span>
<span id="cb2-150"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">╰─</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> See above for output.</span>
<span id="cb2-151"></span>
<span id="cb2-152"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">note:</span> This is an issue with the package mentioned above, not pip.</span>
<span id="cb2-153"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">hint:</span> See above for details.</span>
<span id="cb2-154"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">my-venv-3.13.3</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb2-155"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span></span></code></pre></div>
</div>
</div>
</div>
<section id="エラー原因追跡" class="level3">
<h3 class="anchored" data-anchor-id="エラー原因追跡">3.2. エラー原因追跡</h3>
<p>執筆時点では Pandas の最新バージョンは 2.2.3 なのですが dbt-databricks のバージョンを固定したことで 2.2.0 未満をインストールするようになっています。 そして 2.1.4 をインストールすることになります。</p>
<blockquote class="blockquote">
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pandas<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.2.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span></code></pre></div>
</blockquote>
<p>Pandas 2.2.3 では Python 3.13 用の wheel が用意されているのですが 2.1.4 時点では用意されておらず Pandas をソースコードからビルドしようとします。</p>
<p>しかし Pandas 2.1.4 のビルドに利用している関数が Python 3.13.0 では削除されてしまったためビルドに失敗します。</p>
<blockquote class="blockquote">
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1">      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pandas/_libs/tslibs/base.cpython-313-darwin.so.p/pandas/_libs/tslibs/base.pyx.c:5399:70:</span> error: too few arguments to function call, expected 6, have 5</span>
<span id="cb4-2">       <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5397</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                 <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">int</span> ret = _PyLong_AsByteArray<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PyLongObject</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">v,</span></span>
<span id="cb4-3">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                           <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb4-4">       <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5398</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                                               <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">bytes,</span> sizeof<span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">val</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-5">       <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5399</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                                               <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">is_little,</span> !is_unsigned<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">);</span></span>
<span id="cb4-6">            <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span>                                                                      <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">^</span></span></code></pre></div>
</blockquote>
<p>Pandas 側の Issue: <a href="https://github.com/pandas-dev/pandas/issues/58734" class="uri">https://github.com/pandas-dev/pandas/issues/58734</a></p>
<p>CPython 側の Pull Request: <a href="https://github.com/python/cpython/pull/108429" class="uri">https://github.com/python/cpython/pull/108429</a></p>
<p>というわけで dbt-databricks==1.7.17 と Python 3.13 は相性が悪いということになります。</p>
</section>
</section>
<section id="python-3.12.10-との相性" class="level2">
<h2 class="anchored" data-anchor-id="python-3.12.10-との相性">4. Python 3.12.10 との相性</h2>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
4.1. Python 3.12.10 のエラーログ詳細
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span></span>
<span id="cb5-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Python</span> 3.12.10</span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> venv my-venv-3.12.10</span>
<span id="cb5-5"></span>
<span id="cb5-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> source my-venv-3.12.10/bin/activate</span>
<span id="cb5-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">((</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">my-venv-3.12.10</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> pip install dbt-databricks==1.7.17</span>
<span id="cb5-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> dbt-databricks==1.7.17</span>
<span id="cb5-10">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_databricks-1.7.17-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5.6</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> dbt-spark~=1.7.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-12">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_spark-1.7.1-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5.3</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-14">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached databricks_sql_connector-2.9.6-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.3</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-15"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> databricks-sdk==0.17.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-16">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached databricks_sdk-0.17.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">34</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> keyring<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=23.13.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-18">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached keyring-25.6.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">20</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-19"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pandas<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.2.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-20">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pandas-2.1.4-cp312-cp312-macosx_11_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">18</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-21"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> protobuf<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>5.0.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-22">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached protobuf-4.25.6-cp37-abi3-macosx_10_9_universal2.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">541</span> bytes<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-23"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> google-auth~=2.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sdk==0.17.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-24">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached google_auth-2.39.0-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">6.2</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-25"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> requests<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.28.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sdk==0.17.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-26">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached requests-2.32.3-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.6</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-27"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> alembic<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.0.11 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-28">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached alembic-1.15.2-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">7.3</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-29"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> lz4<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>5.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=4.0.2 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-30">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached lz4-4.4.4-cp312-cp312-macosx_11_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.8</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-31"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> numpy<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.23.4 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-32">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached numpy-2.2.4-cp312-cp312-macosx_14_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">62</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-33"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> oauthlib<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>4.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.1.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-34">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached oauthlib-3.2.2-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">7.5</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-35"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> openpyxl<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>4.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.0.10 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-36">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached openpyxl-3.1.5-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.5</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-37"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pyarrow<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=10.0.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-38">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pyarrow-19.0.1-cp312-cp312-macosx_12_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.3</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-39"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> sqlalchemy<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.3.24 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-40">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached SQLAlchemy-1.4.54-cp312-cp312-macosx_10_9_universal2.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">10</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-41"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> thrift<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>0.17.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.16.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-42">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached thrift-0.16.0-cp312-cp312-macosx_15_0_arm64.whl</span>
<span id="cb5-43"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> urllib3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-44">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached urllib3-2.4.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">6.5</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-45"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> dbt-core~=1.7.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-46">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Downloading</span> dbt_core-1.7.19-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.9</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-47"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> sqlparams<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.0.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-48">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached sqlparams-6.2.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">8.8</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-49"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> jaraco.classes <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> keyring<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=23.13.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-50">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jaraco.classes-3.4.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.6</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-51"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> jaraco.functools <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> keyring<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=23.13.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-52">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jaraco.functools-4.1.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.9</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-53"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> jaraco.context <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> keyring<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=23.13.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-54">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jaraco.context-6.0.1-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.1</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-55"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> numpy<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.23.4 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-56">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached numpy-1.26.4-cp312-cp312-macosx_11_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">61</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-57"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> python-dateutil<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.8.2 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> pandas<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.2.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-58">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">8.4</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-59"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pytz<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2020.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> pandas<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.2.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-60">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pytz-2025.2-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">22</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-61"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> tzdata<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2022.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> pandas<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.2.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-62">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached tzdata-2025.2-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">1.4</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-63"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> Mako <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> alembic<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.0.11-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-64">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached mako-1.3.10-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.9</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-65"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> typing-extensions<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=4.12 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> alembic<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.0.11-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-66">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached typing_extensions-4.13.2-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.0</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-67"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> agate~=1.7.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-68">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached agate-1.7.1-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.1</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-69"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> Jinja2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>4,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.1.3 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-70">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jinja2-3.1.6-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.9</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-71"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> mashumaro<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.15,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.9 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> mashumaro<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">msgpack</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.15,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.9-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-72">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Downloading</span> mashumaro-3.14-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">114</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-73"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> logbook<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>1.6,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.5 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-74">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached logbook-1.5.3-cp312-cp312-macosx_15_0_arm64.whl</span>
<span id="cb5-75"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> click<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>9,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=8.0.2 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-76">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached click-8.1.8-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.3</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-77"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> networkx<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>4,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.3 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-78">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached networkx-3.4.2-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">6.3</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-79"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> colorama<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>0.5,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.3.9 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-80">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached colorama-0.4.6-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">17</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-81"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pathspec<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>0.12,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.9 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-82">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pathspec-0.11.2-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">19</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-83"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> isodate<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>0.7,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.6 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-84">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached isodate-0.6.1-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">9.6</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-85"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> sqlparse<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>0.6.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.5.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-86">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Downloading</span> sqlparse-0.5.3-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.9</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-87"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> dbt-extractor~=0.5.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-88">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_extractor-0.5.1-cp38-abi3-macosx_10_12_x86_64.macosx_11_0_arm64.macosx_10_12_universal2.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.2</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-89"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> minimal-snowplow-tracker~=0.0.2 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-90">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached minimal_snowplow_tracker-0.0.2-py3-none-any.whl</span>
<span id="cb5-91"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> dbt-semantic-interfaces~=0.4.2 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-92">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_semantic_interfaces-0.4.4-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.5</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-93"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> jsonschema<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-94">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jsonschema-4.23.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">7.9</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-95"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> packaging<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>20.9 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-96">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached packaging-24.2-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.2</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-97"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pyyaml<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=6.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-98">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached PyYAML-6.0.2-cp312-cp312-macosx_11_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.1</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-99"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> cffi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.9 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-100">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached cffi-1.17.1-cp312-cp312-macosx_11_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">1.5</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-101"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> idna<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>4,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.5 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-102">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached idna-3.10-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">10</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-103"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> urllib3<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-104">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached urllib3-1.26.20-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">50</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-105"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> cachetools<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>6.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.0.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> google-auth~=2.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>databricks-sdk==0.17.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-106">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached cachetools-5.5.2-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5.4</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-107"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pyasn1-modules<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.2.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> google-auth~=2.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>databricks-sdk==0.17.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-108">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pyasn1_modules-0.4.2-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.5</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-109"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> rsa<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>5,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.1.4 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> google-auth~=2.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>databricks-sdk==0.17.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-110">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Downloading</span> rsa-4.9.1-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">5.6</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-111"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> et-xmlfile <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> openpyxl<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>4.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.0.10-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>databricks-sql-connector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.9.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-112">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached et_xmlfile-2.0.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.7</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-113"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> six<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.5 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> python-dateutil<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.8.2-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>pandas<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.2.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-114">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached six-1.17.0-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">1.7</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-115"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> charset-normalizer<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>4,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> requests<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.28.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>databricks-sdk==0.17.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-116">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached charset_normalizer-3.4.1-cp312-cp312-macosx_10_13_universal2.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">35</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-117"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> certifi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2017.4.17 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> requests<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.28.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>databricks-sdk==0.17.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-118">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached certifi-2025.1.31-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.5</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-119"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> more-itertools <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> jaraco.classes-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>keyring<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=23.13.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-120">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached more_itertools-10.6.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">37</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-121"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> Babel<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> agate~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-122">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached babel-2.17.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.0</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-123"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> leather<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.3.2 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> agate~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-124">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached leather-0.4.0-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.8</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-125"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> parsedatetime!=2.5,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> agate~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-126">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached parsedatetime-2.6-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.7</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-127"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> python-slugify<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.2.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> agate~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-128">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached python_slugify-8.0.4-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">8.5</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-129"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pytimeparse<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.1.5 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> agate~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-130">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pytimeparse-1.1.8-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.4</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-131"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pycparser <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> cffi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>2.0.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.9-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-132">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pycparser-2.22-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">943</span> bytes<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-133"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> importlib-metadata~=6.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-semantic-interfaces~=0.4.2-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-134">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached importlib_metadata-6.11.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.9</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-135"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pydantic<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.10 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> dbt-semantic-interfaces~=0.4.2-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-136">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pydantic-2.11.3-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">65</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-137"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> MarkupSafe<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> Jinja2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>4,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.1.3-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-138">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached MarkupSafe-3.0.2-cp312-cp312-macosx_11_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.0</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-139"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> attrs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=22.2.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> jsonschema<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-140">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached attrs-25.3.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">10</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-141"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> jsonschema-specifications<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=2023.03.6 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> jsonschema<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-142">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jsonschema_specifications-2024.10.1-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.0</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-143"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> referencing<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.28.4 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> jsonschema<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-144">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached referencing-0.36.2-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.8</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-145"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> rpds-py<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.7.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> jsonschema<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-146">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached rpds_py-0.24.0-cp312-cp312-macosx_11_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">4.1</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-147"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> msgpack<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.5.6 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> mashumaro<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">msgpack</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3.15,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=3.9-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-148">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached msgpack-1.1.0-cp312-cp312-macosx_11_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">8.4</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-149"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pyasn1<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>0.7.0,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.6.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> pyasn1-modules<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.2.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>google-auth~=2.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>databricks-sdk==0.17.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-150">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pyasn1-0.6.1-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">8.4</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-151"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> zipp<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.5 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> importlib-metadata~=6.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-semantic-interfaces~=0.4.2-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-152">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached zipp-3.21.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">3.7</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-153"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> annotated-types<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.6.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> pydantic<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.10-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-semantic-interfaces~=0.4.2-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-154">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached annotated_types-0.7.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">15</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-155"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> pydantic-core==2.33.1 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> pydantic<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.10-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-semantic-interfaces~=0.4.2-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-156">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pydantic_core-2.33.1-cp312-cp312-macosx_11_0_arm64.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">6.8</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-157"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> typing-inspection<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=0.4.0 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> pydantic<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>3,<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.10-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-semantic-interfaces~=0.4.2-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-158">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached typing_inspection-0.4.0-py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.6</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-159"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Collecting</span> text-unidecode<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.3 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> python-slugify<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>=1.2.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>agate~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-core~=1.7.0-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-spark~=1.7.1-<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>dbt-databricks==1.7.17<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-160">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached text_unidecode-1.3-py2.py3-none-any.whl.metadata <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">2.4</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-161"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_databricks-1.7.17-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">68</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-162"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached databricks_sdk-0.17.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">429</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-163"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached databricks_sql_connector-2.9.6-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">298</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-164"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_spark-1.7.1-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">44</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-165"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached keyring-25.6.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">39</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-166"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pandas-2.1.4-cp312-cp312-macosx_11_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">10.6</span> MB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-167"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached protobuf-4.25.6-cp37-abi3-macosx_10_9_universal2.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">394</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-168"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached alembic-1.15.2-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">231</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-169"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Downloading</span> dbt_core-1.7.19-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">1.0</span> MB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-170">   <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> 1.0/1.0 MB 14.6 MB/s eta 0:00:00</span>
<span id="cb5-171"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached google_auth-2.39.0-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">212</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-172"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached lz4-4.4.4-cp312-cp312-macosx_11_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">189</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-173"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached numpy-1.26.4-cp312-cp312-macosx_11_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">13.7</span> MB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-174"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached oauthlib-3.2.2-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">151</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-175"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached openpyxl-3.1.5-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">250</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-176"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pyarrow-19.0.1-cp312-cp312-macosx_12_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">30.7</span> MB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-177"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">229</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-178"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pytz-2025.2-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">509</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-179"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached requests-2.32.3-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">64</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-180"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached SQLAlchemy-1.4.54-cp312-cp312-macosx_10_9_universal2.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">1.6</span> MB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-181"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached sqlparams-6.2.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">17</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-182"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached tzdata-2025.2-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">347</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-183"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached urllib3-1.26.20-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">144</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-184"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jaraco.classes-3.4.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">6.8</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-185"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jaraco.context-6.0.1-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">6.8</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-186"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jaraco.functools-4.1.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">10</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-187"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached agate-1.7.1-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">97</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-188"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached cachetools-5.5.2-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">10</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-189"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached certifi-2025.1.31-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">166</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-190"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached cffi-1.17.1-cp312-cp312-macosx_11_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">178</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-191"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached charset_normalizer-3.4.1-cp312-cp312-macosx_10_13_universal2.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">196</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-192"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached click-8.1.8-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">98</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-193"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached colorama-0.4.6-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">25</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-194"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_extractor-0.5.1-cp38-abi3-macosx_10_12_x86_64.macosx_11_0_arm64.macosx_10_12_universal2.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">865</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-195"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached dbt_semantic_interfaces-0.4.4-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">118</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-196"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached idna-3.10-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">70</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-197"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached isodate-0.6.1-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">41</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-198"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jinja2-3.1.6-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">134</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-199"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jsonschema-4.23.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">88</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-200"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Downloading</span> mashumaro-3.14-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">92</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-201"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached more_itertools-10.6.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">63</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-202"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached networkx-3.4.2-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">1.7</span> MB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-203"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached packaging-24.2-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">65</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-204"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pathspec-0.11.2-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">29</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-205"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pyasn1_modules-0.4.2-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">181</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-206"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached PyYAML-6.0.2-cp312-cp312-macosx_11_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">173</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-207"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Downloading</span> rsa-4.9.1-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">34</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-208"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached six-1.17.0-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">11</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-209"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Downloading</span> sqlparse-0.5.3-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">44</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-210"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached typing_extensions-4.13.2-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">45</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-211"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached et_xmlfile-2.0.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">18</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-212"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached mako-1.3.10-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">78</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-213"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached attrs-25.3.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">63</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-214"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached babel-2.17.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">10.2</span> MB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-215"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached importlib_metadata-6.11.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">23</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-216"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached jsonschema_specifications-2024.10.1-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">18</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-217"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached leather-0.4.0-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">30</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-218"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached MarkupSafe-3.0.2-cp312-cp312-macosx_11_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">12</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-219"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached msgpack-1.1.0-cp312-cp312-macosx_11_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">82</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-220"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached parsedatetime-2.6-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">42</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-221"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pyasn1-0.6.1-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">83</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-222"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pydantic-2.11.3-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">443</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-223"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pydantic_core-2.33.1-cp312-cp312-macosx_11_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">1.9</span> MB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-224"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached python_slugify-8.0.4-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">10</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-225"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pytimeparse-1.1.8-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">10.0</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-226"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached referencing-0.36.2-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">26</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-227"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached rpds_py-0.24.0-cp312-cp312-macosx_11_0_arm64.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">351</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-228"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached pycparser-2.22-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">117</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-229"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached annotated_types-0.7.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">13</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-230"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached text_unidecode-1.3-py2.py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">78</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-231"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached typing_inspection-0.4.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">14</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-232"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Using</span> cached zipp-3.21.0-py3-none-any.whl <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">9.6</span> kB<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb5-233"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Installing</span> collected packages: text-unidecode, pytz, pytimeparse, parsedatetime, logbook, leather, zipp, urllib3, tzdata, typing-extensions, sqlparse, sqlparams, sqlalchemy, six, rpds-py, pyyaml, python-slugify, pycparser, pyasn1, pyarrow, protobuf, pathspec, packaging, oauthlib, numpy, networkx, msgpack, more-itertools, MarkupSafe, lz4, jaraco.context, idna, et-xmlfile, dbt-extractor, colorama, click, charset-normalizer, certifi, cachetools, Babel, attrs, annotated-types, typing-inspection, thrift, rsa, requests, referencing, python-dateutil, pydantic-core, pyasn1-modules, openpyxl, mashumaro, Mako, Jinja2, jaraco.functools, jaraco.classes, isodate, importlib-metadata, cffi, pydantic, pandas, minimal-snowplow-tracker, keyring, jsonschema-specifications, google-auth, alembic, agate, jsonschema, databricks-sql-connector, databricks-sdk, dbt-semantic-interfaces, dbt-core, dbt-spark, dbt-databricks</span>
<span id="cb5-234"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Successfully</span> installed Babel-2.17.0 Jinja2-3.1.6 Mako-1.3.10 MarkupSafe-3.0.2 agate-1.7.1 alembic-1.15.2 annotated-types-0.7.0 attrs-25.3.0 cachetools-5.5.2 certifi-2025.1.31 cffi-1.17.1 charset-normalizer-3.4.1 click-8.1.8 colorama-0.4.6 databricks-sdk-0.17.0 databricks-sql-connector-2.9.6 dbt-core-1.7.19 dbt-databricks-1.7.17 dbt-extractor-0.5.1 dbt-semantic-interfaces-0.4.4 dbt-spark-1.7.1 et-xmlfile-2.0.0 google-auth-2.39.0 idna-3.10 importlib-metadata-6.11.0 isodate-0.6.1 jaraco.classes-3.4.0 jaraco.context-6.0.1 jaraco.functools-4.1.0 jsonschema-4.23.0 jsonschema-specifications-2024.10.1 keyring-25.6.0 leather-0.4.0 logbook-1.5.3 lz4-4.4.4 mashumaro-3.14 minimal-snowplow-tracker-0.0.2 more-itertools-10.6.0 msgpack-1.1.0 networkx-3.4.2 numpy-1.26.4 oauthlib-3.2.2 openpyxl-3.1.5 packaging-24.2 pandas-2.1.4 parsedatetime-2.6 pathspec-0.11.2 protobuf-4.25.6 pyarrow-19.0.1 pyasn1-0.6.1 pyasn1-modules-0.4.2 pycparser-2.22 pydantic-2.11.3 pydantic-core-2.33.1 python-dateutil-2.9.0.post0 python-slugify-8.0.4 pytimeparse-1.1.8 pytz-2025.2 pyyaml-6.0.2 referencing-0.36.2 requests-2.32.3 rpds-py-0.24.0 rsa-4.9.1 six-1.17.0 sqlalchemy-1.4.54 sqlparams-6.2.0 sqlparse-0.5.3 text-unidecode-1.3 thrift-0.16.0 typing-extensions-4.13.2 typing-inspection-0.4.0 tzdata-2025.2 urllib3-1.26.20 zipp-3.21.0</span></code></pre></div>
</div>
</div>
</div>
<section id="python-3.12.10-でのインストール結果" class="level3">
<h3 class="anchored" data-anchor-id="python-3.12.10-でのインストール結果">4.2. Python 3.12.10 でのインストール結果</h3>
<p>dbt-databricks==1.7.17 のインストールに成功しました。</p>
<p>ただし以下のようにプロンプト部分の括弧が2重になってしまうのがとても気になりますね。</p>
<blockquote class="blockquote">
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> source my-venv-3.12.10/bin/activate</span>
<span id="cb6-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">((</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">my-venv-3.12.10</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span></span>
<span id="cb6-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">$</span> pip install dbt-databricks==1.7.17</span></code></pre></div>
</blockquote>
<p>対応する Issue はこちらなのですが Python 3.12 ではもうバグ修正をしないようなのでこの2重括弧と共に生きていくしかないです。 メンテナーの方も仰っていますが目立つバグなのでどうしても気になってしまいます。</p>
<p><a href="https://github.com/python/cpython/issues/132361" class="uri">https://github.com/python/cpython/issues/132361</a></p>
</section>
</section>
<section id="まとめ" class="level2">
<h2 class="anchored" data-anchor-id="まとめ">5. まとめ</h2>
<p>ライブラリのバージョンを固定した後色々と帳尻合わせしようとすると大変なことが起きがちですね。</p>


</section>

 ]]></description>
  <category>blog</category>
  <category>tech</category>
  <category>tech-python</category>
  <guid>https://i9wa4.github.io/blog/2025-04-16-issue-with-python-libraries.html</guid>
  <pubDate>Wed, 16 Apr 2025 03:00:00 GMT</pubDate>
  <media:content url="https://i9wa4.github.io/assets/common/icon_hhkb3_large.jpg" medium="image" type="image/jpeg"/>
</item>
</channel>
</rss>
